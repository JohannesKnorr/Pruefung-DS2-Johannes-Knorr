<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Johannes Knorr - Matrikelnummer: 00158033">

<title>Pruefung DS2 Johannes Knorr - Pruefung DS2 Johannes Knorr - Textanalyse des Heidelberger Datensatzes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-listing/list.min.js"></script>
<script src="site_libs/quarto-listing/quarto-listing.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script>

  window.document.addEventListener("DOMContentLoaded", function (_event) {
    const listingTargetEl = window.document.querySelector('#listing-listing .list');
    if (!listingTargetEl) {
      // No listing discovered, do not attach.
      return; 
    }

    const options = {
      valueNames: ['listing-categories',{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
      
      searchColumns: ["listing-categories"],
    };

    window['quarto-listings'] = window['quarto-listings'] || {};
    window['quarto-listings']['listing-listing'] = new List('listing-listing', options);

    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  });

  window.addEventListener('hashchange',() => {
    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  })
  </script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Pruefung DS2 Johannes Knorr</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./about.html">About</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">Pruefung DS2 Johannes Knorr - Textanalyse des Heidelberger Datensatzes</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Johannes Knorr - Matrikelnummer: 00158033 </p>
            </div>
    </div>
      
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <h5 class="quarto-listing-category-title">Categories</h5><div class="quarto-listing-category category-default"><div class="category" data-category="">All <span class="quarto-category-count">(0)</span></div></div></div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">




<section id="blogpost-data-science-text-mining---textanalyse-des-heidelberger-datensatzes." class="level1">
<h1>Blogpost Data Science Text Mining - Textanalyse des Heidelberger Datensatzes.</h1>
<p>In diesem Post geht es darum, wie gut mithilfe von Textanalyse die Sentimentvariable (X2) anhand den zugehörigen Daten vorherzusagen ist.</p>
<section id="daten-einlesen" class="level3">
<h3 class="anchored" data-anchor-id="daten-einlesen">Daten einlesen</h3>
<p>Zuerst werden die für die Textanalyse wichtigesten Pakete geladen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidyverse' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>-- Attaching packages --------------------------------------- tidyverse 1.3.1 --</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>v ggplot2 3.4.0     v purrr   0.3.4
v tibble  3.1.8     v dplyr   1.0.8
v tidyr   1.2.0     v stringr 1.4.0
v readr   2.1.2     v forcats 0.5.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidyr' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'readr' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'dplyr' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>-- Conflicts ------------------------------------------ tidyverse_conflicts() --
x dplyr::filter() masks stats::filter()
x dplyr::lag()    masks stats::lag()</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tokenizers)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(easystats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code># Attaching packages: easystats 0.6.0 (red = needs update)
√ bayestestR  0.13.0   √ correlation 0.8.3 
√ datawizard  0.6.5    x effectsize  0.8.2 
x insight     0.18.8   √ modelbased  0.8.6 
√ performance 0.10.2   x parameters  0.20.1
x report      0.5.5    √ see         0.7.4 

Restart the R-Session and update packages in red with `easystats::easystats_update()`.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naivebayes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'naivebayes' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>naivebayes 0.9.7 loaded</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(textrecipes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: recipes</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'recipes'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:stringr':

    fixed</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:stats':

    step</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidymodels' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>-- Attaching packages -------------------------------------- tidymodels 0.2.0 --</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>v broom        1.0.3     v rsample      1.1.1
v dials        1.1.0     v tune         0.2.0
v infer        1.0.4     v workflows    1.1.2
v modeldata    1.1.0     v workflowsets 0.2.1
v parsnip      1.0.3     v yardstick    0.0.9</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tune' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'workflowsets' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'yardstick' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>-- Conflicts ----------------------------------------- tidymodels_conflicts() --
x scales::discard()        masks purrr::discard()
x dplyr::filter()          masks stats::filter()
x recipes::fixed()         masks stringr::fixed()
x yardstick::get_weights() masks insight::get_weights()
x dplyr::lag()             masks stats::lag()
x yardstick::mae()         masks performance::mae()
x parsnip::null_model()    masks insight::null_model()
x infer::p_value()         masks parameters::p_value()
x tune::parameters()       masks dials::parameters(), parameters::parameters()
x yardstick::rmse()        masks performance::rmse()
x dials::smoothness()      masks datawizard::smoothness()
x yardstick::spec()        masks readr::spec()
x recipes::step()          masks stats::step()
* Use tidymodels_prefer() to resolve common conflicts.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lsa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: SnowballC</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(discrim)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'discrim'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dials':

    smoothness</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:datawizard':

    smoothness</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(parsnip)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glmnet)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: Matrix</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'Matrix'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:tidyr':

    expand, pack, unpack</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loaded glmnet 4.1-6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fastrtext)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'fastrtext'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:insight':

    get_parameters</code></pre>
</div>
</div>
</section>
<section id="datensatz-importieren" class="level3">
<h3 class="anchored" data-anchor-id="datensatz-importieren">Datensatz importieren</h3>
<p>Der Datensatz wurde lokal importiert, kann aber auch online heruntergeladen werden:</p>
<ul>
<li>Quelle: Wiegand, Michael. 2019b. “GermEval-2018 Corpus (DE).” heiDATA. https://doi.org/10.11588/DATA/0B5VML. ———. 2019a. “GermEval-2018 Corpus (DE).” heiDATA. https://doi.org/10.11588/DATA/0B5VML. ———. 2019c. “GermEval-2018-Data-Master.” In GermEval-2018 Corpus (DE). heiDATA. https://doi.org/10.11588/data/0B5VML/XIUWJ7.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>d_pfad <span class="ot">&lt;-</span> <span class="st">"C:/R Data Science/DS2/Text Mining/Übung/Übung Datensatz Uni Heidelberg/GermEval-2018-Data-master/germeval2018.training.txt"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(d_pfad, <span class="at">col_names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 5009 Columns: 3
-- Column specification --------------------------------------------------------
Delimiter: "\t"
chr (3): X1, X2, X3

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
<p>Ich fange damit an, dem Datensatz eine ID-Variable zu geben und anschließend typische Befehle auszuführen, die mir dabei helfen, vertrauter mit dem Datensatz zu werden.</p>
<p>ID Variable für den Datensatz:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="ot">&lt;-</span> dataset <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">as.character</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span> <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5009</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 x 4
  X1                                                           X2    X3    id   
  &lt;chr&gt;                                                        &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
1 @corinnamilborn Liebe Corinna, wir würden dich gerne als Mo~ OTHER OTHER 1    
2 @Martin28a Sie haben ja auch Recht. Unser Tweet war etwas m~ OTHER OTHER 2    
3 @ahrens_theo fröhlicher gruß aus der schönsten stadt der we~ OTHER OTHER 3    
4 @dushanwegner Amis hätten alles und jeden gewählt...nur Hil~ OTHER OTHER 4    
5 @spdde kein verläßlicher Verhandlungspartner. Nachkarteln n~ OFFE~ INSU~ 5    
6 @Dirki_M Ja, aber wo widersprechen die Zahlen denn denen, d~ OTHER OTHER 6    </code></pre>
</div>
</div>
<p>X1 ist der Textinhalt und bei X2 und X3 handelt es sich um die Klassifikation bzw. Sentimentauswertung des jeweiligen Textinhaltes.</p>
<p>Welche Variablen hat X2 &amp; X3?</p>
<p>X2:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span> <span class="fu">count</span>(X2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 x 2
  X2          n
  &lt;chr&gt;   &lt;int&gt;
1 OFFENSE  1688
2 OTHER    3321</code></pre>
</div>
</div>
<p>X3:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span> <span class="fu">count</span>(X3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 x 2
  X3            n
  &lt;chr&gt;     &lt;int&gt;
1 ABUSE      1022
2 INSULT      595
3 OTHER      3321
4 PROFANITY    71</code></pre>
</div>
</div>
<p>Kann es sein dass, wenn es sich um “Offense” handelt ist X3 wohl immer “Abuse”, “Insult” oder “Profanity”?</p>
<p>Gegenprobe:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span> <span class="fu">filter</span>(X2 <span class="sc">==</span> <span class="st">"OFFENSE"</span>, X3 <span class="sc">==</span> <span class="st">"OTHER"</span>) <span class="sc">%&gt;%</span> <span class="fu">nrow</span>() <span class="sc">/</span> <span class="fu">nrow</span>(dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span>  <span class="fu">filter</span>(X2 <span class="sc">==</span> <span class="st">"OTHER"</span>, X3 <span class="sc">==</span> <span class="st">"OTHER"</span>) <span class="sc">%&gt;%</span> <span class="fu">nrow</span>() <span class="sc">/</span> <span class="fu">nrow</span>(dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6630066</code></pre>
</div>
</div>
<p>Die Texte wurden also mit ca. 66% mit Other Klassifiziert und müssten dann zu 33% mit offense Klassifiziert werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span>  <span class="fu">filter</span>(X2 <span class="sc">==</span> <span class="st">"OFFENSE"</span>) <span class="sc">%&gt;%</span> <span class="fu">nrow</span>() <span class="sc">/</span> <span class="fu">nrow</span>(dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3369934</code></pre>
</div>
</div>
</section>
</section>
<section id="sentimentanalyse" class="level1">
<h1>Sentimentanalyse</h1>
<p>Für die Sentimentanalyse nehme ich die Deutsche Quelle für eine Sentimentanalyse von Remus, Quasthoff, und Heimer 2010</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>sentiment <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://osf.io/x89wq/?action=download"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3468 Columns: 4
-- Column specification --------------------------------------------------------
Delimiter: ","
chr (3): neg_pos, word, inflections
dbl (1): value

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
<p>Bevor ich die Texte für die Senitmentanalyse tokenisiere ist es hiflreich noch eine Spalite hinzufügen die mir Sagt wie lange der Text vorher war.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>dataset1 <span class="ot">&lt;-</span> dataset <span class="sc">%&gt;%</span>  <span class="fu">mutate</span>(<span class="at">text_length =</span> <span class="fu">str_length</span>(X1))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dataset1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 x 5
  X1                                                   X2    X3    id    text_~1
  &lt;chr&gt;                                                &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;int&gt;
1 @corinnamilborn Liebe Corinna, wir würden dich gern~ OTHER OTHER 1         109
2 @Martin28a Sie haben ja auch Recht. Unser Tweet war~ OTHER OTHER 2         142
3 @ahrens_theo fröhlicher gruß aus der schönsten stad~ OTHER OTHER 3          69
4 @dushanwegner Amis hätten alles und jeden gewählt..~ OTHER OTHER 4         140
5 @spdde kein verläßlicher Verhandlungspartner. Nachk~ OFFE~ INSU~ 5         136
6 @Dirki_M Ja, aber wo widersprechen die Zahlen denn ~ OTHER OTHER 6         284
# ... with abbreviated variable name 1: text_length</code></pre>
</div>
</div>
<p>Bevor die Sentimentanalyse durchgeführt wird müssen die einzelnen Textzeilen tokenisiert werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>dataset_token <span class="ot">&lt;-</span> dataset1 <span class="sc">%&gt;%</span> </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">input =</span> X1, <span class="at">output =</span> token)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dataset_token)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 x 5
  X2    X3    id    text_length token         
  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;         
1 OTHER OTHER 1             109 corinnamilborn
2 OTHER OTHER 1             109 liebe         
3 OTHER OTHER 1             109 corinna       
4 OTHER OTHER 1             109 wir           
5 OTHER OTHER 1             109 würden        
6 OTHER OTHER 1             109 dich          </code></pre>
</div>
</div>
<p>Nun die Sentimentanalyse mithilfe “inner_join”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>dataset_sentiment <span class="ot">&lt;-</span> </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  dataset_token <span class="sc">%&gt;%</span> </span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(sentiment <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>inflections), <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"token"</span> <span class="ot">=</span> <span class="st">"word"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dataset_sentiment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 x 7
  X2    X3    id    text_length token         neg_pos   value
  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;         &lt;chr&gt;     &lt;dbl&gt;
1 OTHER OTHER 1             109 gewinnen      pos      0.004 
2 OTHER OTHER 2             142 kritisieren   neg     -0.347 
3 OTHER OTHER 6             284 widersprechen neg     -0.354 
4 OTHER OTHER 6             284 rein          pos      0.004 
5 OTHER OTHER 6             284 leicht        pos      0.004 
6 OTHER OTHER 6             284 rückläufig    neg     -0.0544</code></pre>
</div>
</div>
<p>Hier sieht man nun die einzelnen Sentimentwörter (“token”) und jeweils die negative oder positive Ausrichtung der Wörter (“neg”).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>dataset_sentiment <span class="sc">%&gt;%</span> </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(token, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 673 x 2
   token       n
   &lt;chr&gt;   &lt;int&gt;
 1 gut       111
 2 einfach   102
 3 besser     71
 4 klar       59
 5 leider     57
 6 genau      55
 7 richtig    51
 8 sicher     43
 9 dumm       36
10 kurz       33
# ... with 663 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>dataset_sentiment <span class="sc">%&gt;%</span> </span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(token, neg_pos, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">token =</span> <span class="fu">reorder</span>(token, n)) <span class="sc">%&gt;%</span> </span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(n, <span class="at">n =</span> <span class="dv">20</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(n, token, <span class="at">fill =</span> neg_pos)) <span class="sc">+</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>neg_pos, <span class="at">scales =</span> <span class="st">"free_y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Es kommen im Datensatz deutlich weniger negative Wörter vor als positive Wörter.</p>
<p>Diese These kann man noch kurz prüfen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>dataset_sentiment <span class="sc">%&gt;%</span> </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(neg_pos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 x 2
  neg_pos     n
  &lt;chr&gt;   &lt;int&gt;
1 neg      1076
2 pos      1733</code></pre>
</div>
</div>
<p>Ca. 700 mehr positiv gerichtete Wörter kommen im Datensatz vor.</p>
<p>Nun können wir den Durchschnitt der einzelnen Sentimentausprägungen berechnen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>dataset_sentiment2 <span class="ot">&lt;-</span> dataset_sentiment <span class="sc">%&gt;%</span> </span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id, neg_pos) <span class="sc">%&gt;%</span> </span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">senti_mean =</span> <span class="fu">mean</span>(value))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'id'. You can override using the `.groups`
argument.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dataset_sentiment2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 x 3
# Groups:   id [6]
  id    neg_pos senti_mean
  &lt;chr&gt; &lt;chr&gt;        &lt;dbl&gt;
1 1     pos         0.004 
2 1012  neg        -0.209 
3 1013  neg        -0.042 
4 1015  neg        -0.0048
5 1021  pos         0.0845
6 1024  neg        -0.479 </code></pre>
</div>
</div>
<p>Nun kann dieser Datensatz mit dem ursprünglichen Datensatz verschmolzen werden, davor muss der Datensatz in die Breite gezogen werden (“pivot_wider”).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>dataset_sentiment_pivot <span class="ot">&lt;-</span> dataset_sentiment2 <span class="sc">%&gt;%</span> </span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">"neg_pos"</span>, <span class="at">values_from =</span> <span class="st">"senti_mean"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dataset_sentiment_pivot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 x 3
# Groups:   id [6]
  id        pos     neg
  &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 1      0.004  NA     
2 1012  NA      -0.209 
3 1013  NA      -0.042 
4 1015  NA      -0.0048
5 1021   0.0845 NA     
6 1024   0.004  -0.479 </code></pre>
</div>
</div>
<p>Nun das verschmelzen mit dem ursprünglichem Datensatz:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>dataset2 <span class="ot">&lt;-</span> </span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  dataset1 <span class="sc">%&gt;%</span> </span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(dataset_sentiment_pivot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining, by = "id"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dataset2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 x 7
  X1                                      X2    X3    id    text_~1   pos    neg
  &lt;chr&gt;                                   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;
1 @corinnamilborn Liebe Corinna, wir wür~ OTHER OTHER 1         109  4e-3 NA    
2 @Martin28a Sie haben ja auch Recht. Un~ OTHER OTHER 2         142 NA    -0.347
3 @ahrens_theo fröhlicher gruß aus der s~ OTHER OTHER 3          69 NA    NA    
4 @dushanwegner Amis hätten alles und je~ OTHER OTHER 4         140 NA    NA    
5 @spdde kein verläßlicher Verhandlungsp~ OFFE~ INSU~ 5         136 NA    NA    
6 @Dirki_M Ja, aber wo widersprechen die~ OTHER OTHER 6         284  4e-3 -0.204
# ... with abbreviated variable name 1: text_length</code></pre>
</div>
</div>
<section id="initlial-split" class="level3">
<h3 class="anchored" data-anchor-id="initlial-split">Initlial Split</h3>
<p>Bevor ich mit dem definieren des Rezepts beginne werden die Daten aufgeteilt um Sie später testen zu können:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>data_split <span class="ot">&lt;-</span> <span class="fu">initial_split</span>(dataset2, <span class="at">strata =</span> X1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Too little data to stratify.
* Resampling will be unstratified.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>data_train <span class="ot">&lt;-</span> <span class="fu">training</span>(data_split)</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>data_test <span class="ot">&lt;-</span> <span class="fu">testing</span>(data_split)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="rezept-tfidf" class="level1">
<h1>1. Rezept (tfidf)</h1>
<p>Bei meinem ersten Rezept arbeite ich mit “tfidf”, dies ist die Abkürzung für “term frequency and inverse document frequency”. Dieser Befehl zählt zuerst die Worthäufigkeiten und gibt dann den Tokens eine entgegengesetzte Gewichtung.</p>
<p>Quelle: Hvitfeldt, Emil, and Julia Silge. 2022. Supervised Machine Learning for Text Analysis in r. 1st ed.&nbsp;Boca Raton: Chapman; Hall/CRC. https://doi.org/10.1201/9781003093459.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>rezept1 <span class="ot">&lt;-</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">recipe</span>(X2 <span class="sc">~</span> ., <span class="at">data =</span> <span class="fu">select</span>(data_train, X1, X2, id)) <span class="sc">%&gt;%</span> </span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">update_role</span>(id, <span class="at">new_role =</span> <span class="st">"id"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_tokenize</span>(X1) <span class="sc">%&gt;%</span> </span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_stopwords</span>(X1, <span class="at">language =</span> <span class="st">"de"</span>, <span class="at">stopword_source =</span> <span class="st">"snowball"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_tokenfilter</span>(X1, <span class="at">max_tokens =</span> <span class="fl">1e2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_stem</span>(X1) <span class="sc">%&gt;%</span> </span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_tfidf</span>(X1) <span class="sc">%&gt;%</span> </span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_normalize</span>(<span class="fu">all_numeric_predictors</span>())</span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>rezept1  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Recipe

Inputs:

      role #variables
        id          1
   outcome          1
 predictor          1

Operations:

Tokenization for X1
Stop word removal for X1
Text filtering for X1
Stemming for X1
Term frequency-inverse document frequency with X1
Centering and scaling for all_numeric_predictors()</code></pre>
</div>
</div>
<p>Preppen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>rezept1_prep <span class="ot">&lt;-</span> <span class="fu">prep</span>(rezept1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Baken:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>rezept1_bake <span class="ot">&lt;-</span> <span class="fu">bake</span>(rezept1_prep, <span class="at">new_data =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(rezept1_bake)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 x 101
  id    X2      tfidf_~1 tfidf~2 tfidf~3 tfidf~4 tfidf~5 tfidf~6 tfidf~7 tfidf~8
  &lt;fct&gt; &lt;fct&gt;      &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 1     OTHER    -0.0866  -0.101  -0.102  -0.151  -0.122  -0.107  -0.151 -0.0893
2 2     OTHER    -0.0866  -0.101  -0.102  -0.151  -0.122  -0.107  -0.151 -0.0893
3 3     OTHER    -0.0866  -0.101  -0.102  -0.151  -0.122  -0.107  -0.151 -0.0893
4 5     OFFENSE  -0.0866  -0.101  -0.102  -0.151  -0.122  -0.107  -0.151 -0.0893
5 7     OFFENSE  -0.0866  -0.101  -0.102  -0.151  -0.122  -0.107  -0.151 -0.0893
6 8     OTHER    -0.0866  -0.101  -0.102  -0.151  -0.122  -0.107  -0.151 -0.0893
# ... with 91 more variables: tfidf_X1_besser &lt;dbl&gt;, tfidf_X1_bild &lt;dbl&gt;,
#   tfidf_X1_cdu &lt;dbl&gt;, tfidf_X1_charlie_silv &lt;dbl&gt;, tfidf_X1_d &lt;dbl&gt;,
#   tfidf_X1_dafür &lt;dbl&gt;, tfidf_X1_dank &lt;dbl&gt;, tfidf_X1_darf &lt;dbl&gt;,
#   tfidf_X1_dass &lt;dbl&gt;, tfidf_X1_deutsch &lt;dbl&gt;, tfidf_X1_deutschen &lt;dbl&gt;,
#   tfidf_X1_deutschland &lt;dbl&gt;, tfidf_X1_eigentlich &lt;dbl&gt;,
#   tfidf_X1_einfach &lt;dbl&gt;, tfidf_X1_ellibisathid &lt;dbl&gt;,
#   tfidf_X1_endlich &lt;dbl&gt;, tfidf_X1_ennof_ &lt;dbl&gt;, tfidf_X1_erst &lt;dbl&gt;, ...</code></pre>
</div>
</div>
<section id="modelle" class="level2">
<h2 class="anchored" data-anchor-id="modelle">Modelle</h2>
<p>Bei dieser Textanalyse möchte ich mich auf 2 bestimmte Modelle beschränken und zwar auf ein Bayesmodell und ein Lasso Modell. Baummodelle eignen sich für das Text Mining nicht so gut und man stößt schnell auf Probleme. (siehe Kapitel 6.3 - Hvitfeldt, Emil, and Julia Silge. 2022. Supervised Machine Learning for Text Analysis in r. 1st ed.&nbsp;Boca Raton: Chapman; Hall/CRC. https://doi.org/10.1201/9781003093459.).</p>
<section id="bayesmodell" class="level3">
<h3 class="anchored" data-anchor-id="bayesmodell">Bayesmodell:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>naiv_bay <span class="ot">&lt;-</span> <span class="fu">naive_Bayes</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"classification"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"naivebayes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>naiv_bay</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Naive Bayes Model Specification (classification)

Computational engine: naivebayes </code></pre>
</div>
</div>
</section>
<section id="lassomodell" class="level3">
<h3 class="anchored" data-anchor-id="lassomodell">Lassomodell:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>lasso_mod <span class="ot">&lt;-</span> <span class="fu">logistic_reg</span>(<span class="at">penalty =</span> <span class="fu">tune</span>(), <span class="at">mixture =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"classification"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"glmnet"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>lasso_mod</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Logistic Regression Model Specification (classification)

Main Arguments:
  penalty = tune()
  mixture = 1

Computational engine: glmnet </code></pre>
</div>
</div>
</section>
<section id="kreuzvalidierung-10x" class="level3">
<h3 class="anchored" data-anchor-id="kreuzvalidierung-10x">Kreuzvalidierung 10x:</h3>
<p>Die Kreuzvalidierung wird 10fach durchgeführt um den Modellen mehr Güte zu geben, indem sie auf jeden einzelnen “Fold” gefittet werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>v_fold <span class="ot">&lt;-</span> <span class="fu">vfold_cv</span>(data_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="workflow" class="level1">
<h1>1.Workflow</h1>
<section id="rezept-bayesmodell" class="level3">
<h3 class="anchored" data-anchor-id="rezept-bayesmodell">1. Rezept + Bayesmodell</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>workflow1 <span class="ot">&lt;-</span> </span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">workflow</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(rezept1) <span class="sc">%&gt;%</span> </span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(naiv_bay)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>workflow1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>== Workflow ====================================================================
Preprocessor: Recipe
Model: naive_Bayes()

-- Preprocessor ----------------------------------------------------------------
6 Recipe Steps

* step_tokenize()
* step_stopwords()
* step_tokenfilter()
* step_stem()
* step_tfidf()
* step_normalize()

-- Model -----------------------------------------------------------------------
Naive Bayes Model Specification (classification)

Computational engine: naivebayes </code></pre>
</div>
</div>
<p>Fitten:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>fit_workflow1 <span class="ot">&lt;-</span> </span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit_resamples</span>(</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>    workflow1,</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>    v_fold,</span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> <span class="fu">control_resamples</span>(<span class="at">save_pred =</span> <span class="cn">TRUE</span>)</span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'stopwords' was built under R version 4.0.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>fit_workflow1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Resampling results
# 10-fold cross-validation 
# A tibble: 10 x 5
   splits             id     .metrics         .notes           .predictions
   &lt;list&gt;             &lt;chr&gt;  &lt;list&gt;           &lt;list&gt;           &lt;list&gt;      
 1 &lt;split [3380/376]&gt; Fold01 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 2 &lt;split [3380/376]&gt; Fold02 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 3 &lt;split [3380/376]&gt; Fold03 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 4 &lt;split [3380/376]&gt; Fold04 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 5 &lt;split [3380/376]&gt; Fold05 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 6 &lt;split [3380/376]&gt; Fold06 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 7 &lt;split [3381/375]&gt; Fold07 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 8 &lt;split [3381/375]&gt; Fold08 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 9 &lt;split [3381/375]&gt; Fold09 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
10 &lt;split [3381/375]&gt; Fold10 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    </code></pre>
</div>
</div>
</section>
</section>
<section id="performance-des-1.-workflows" class="level1">
<h1>Performance des 1. Workflows</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>workflow1_perf <span class="ot">&lt;-</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_metrics</span>(fit_workflow1)</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>workflow1_perf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 x 6
  .metric  .estimator  mean     n std_err .config             
  &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
1 accuracy binary     0.663    10 0.00642 Preprocessor1_Model1
2 roc_auc  binary     0.570    10 0.00756 Preprocessor1_Model1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>workflow1_pred <span class="ot">&lt;-</span> </span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_predictions</span>(fit_workflow1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>workflow1_pred <span class="sc">%&gt;%</span> </span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">roc_curve</span>(<span class="at">truth =</span> X2, .pred_OFFENSE) <span class="sc">%&gt;%</span> </span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Naja könnte vielleicht ein wenig besser aussehen. Die einzelnen Linien verlaufen oft schwungartig und manche sogar unter 0.5.</p>
</section>
<section id="rezept-tf" class="level1">
<h1>2. Rezept (tf)</h1>
<p>Beim zweiten Rezept arbeite ich mit “tf”, bedeutet “term frequency” und zählt wie häufig einzelne Wörter im Datensatz vorkommen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>rezept2 <span class="ot">&lt;-</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">recipe</span>(X2 <span class="sc">~</span> ., <span class="at">data =</span> <span class="fu">select</span>(data_train, X1, X2, id)) <span class="sc">%&gt;%</span> </span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">update_role</span>(id, <span class="at">new_role =</span> <span class="st">"id"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_tokenize</span>(X1) <span class="sc">%&gt;%</span> </span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_stopwords</span>(X1, <span class="at">language =</span> <span class="st">"de"</span>, <span class="at">stopword_source =</span> <span class="st">"snowball"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_stem</span>(X1) <span class="sc">%&gt;%</span> </span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_tokenfilter</span>(X1, <span class="at">max_tokens =</span> <span class="fl">1e2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb113-8"><a href="#cb113-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_tf</span>(X1) <span class="sc">%&gt;%</span> </span>
<span id="cb113-9"><a href="#cb113-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_normalize</span>(<span class="fu">all_numeric_predictors</span>())</span>
<span id="cb113-10"><a href="#cb113-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-11"><a href="#cb113-11" aria-hidden="true" tabindex="-1"></a>rezept2 </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Recipe

Inputs:

      role #variables
        id          1
   outcome          1
 predictor          1

Operations:

Tokenization for X1
Stop word removal for X1
Stemming for X1
Text filtering for X1
Term frequency with X1
Centering and scaling for all_numeric_predictors()</code></pre>
</div>
</div>
<p>Preppen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>rezept2_prep <span class="ot">&lt;-</span> <span class="fu">prep</span>(rezept2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Baken:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>rezept2_bake <span class="ot">&lt;-</span> <span class="fu">bake</span>(rezept2_prep, <span class="at">new_data =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(rezept2_bake)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 x 102
  id    X2      tf_X1_~1 tf_X1_2 tf_X1~2 tf_X1~3 tf_X1~4 tf_X1~5 tf_X1~6 tf_X1~7
  &lt;fct&gt; &lt;fct&gt;      &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 1     OTHER     -0.158  -0.113  -0.121  -0.173  -0.133  -0.124  -0.158  -0.122
2 2     OTHER     -0.158  -0.113  -0.121  -0.173  -0.133  -0.124  -0.158  -0.122
3 3     OTHER     -0.158  -0.113  -0.121  -0.173  -0.133  -0.124  -0.158  -0.122
4 5     OFFENSE   -0.158  -0.113  -0.121  -0.173  -0.133  -0.124  -0.158  -0.122
5 7     OFFENSE   -0.158  -0.113  -0.121  -0.173  -0.133  -0.124  -0.158  -0.122
6 8     OTHER     -0.158  -0.113  -0.121  -0.173  -0.133  -0.124  -0.158  -0.122
# ... with 92 more variables: tf_X1_bild &lt;dbl&gt;, tf_X1_cdu &lt;dbl&gt;,
#   tf_X1_charlie_silv &lt;dbl&gt;, tf_X1_d &lt;dbl&gt;, tf_X1_dafür &lt;dbl&gt;,
#   tf_X1_dank &lt;dbl&gt;, tf_X1_dass &lt;dbl&gt;, tf_X1_deutsch &lt;dbl&gt;,
#   tf_X1_deutschen &lt;dbl&gt;, tf_X1_deutschland &lt;dbl&gt;, tf_X1_dumm &lt;dbl&gt;,
#   tf_X1_eigentlich &lt;dbl&gt;, tf_X1_einfach &lt;dbl&gt;, tf_X1_ellibisathid &lt;dbl&gt;,
#   tf_X1_endlich &lt;dbl&gt;, tf_X1_ennof_ &lt;dbl&gt;, tf_X1_erst &lt;dbl&gt;, tf_X1_eu &lt;dbl&gt;,
#   tf_X1_europa &lt;dbl&gt;, tf_X1_fdp &lt;dbl&gt;, tf_X1_feldenfrizz &lt;dbl&gt;, ...</code></pre>
</div>
</div>
</section>
<section id="workflow-1" class="level1">
<h1>2. Workflow</h1>
<section id="rezept-lassomodell" class="level3">
<h3 class="anchored" data-anchor-id="rezept-lassomodell">2. Rezept + Lassomodell</h3>
<p>Penalty:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>grid_penalty <span class="ot">&lt;-</span> <span class="fu">grid_regular</span>(<span class="fu">penalty</span>(), <span class="at">levels =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>workflow2 <span class="ot">&lt;-</span> </span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">workflow</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(rezept2) <span class="sc">%&gt;%</span> </span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(lasso_mod)</span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>workflow2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>== Workflow ====================================================================
Preprocessor: Recipe
Model: logistic_reg()

-- Preprocessor ----------------------------------------------------------------
6 Recipe Steps

* step_tokenize()
* step_stopwords()
* step_stem()
* step_tokenfilter()
* step_tf()
* step_normalize()

-- Model -----------------------------------------------------------------------
Logistic Regression Model Specification (classification)

Main Arguments:
  penalty = tune()
  mixture = 1

Computational engine: glmnet </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>fit_workflow2 <span class="ot">&lt;-</span></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tune_grid</span>(</span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a>    workflow2,</span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a>    v_fold,</span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">grid =</span> grid_penalty,</span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> <span class="fu">control_resamples</span>(<span class="at">save_pred =</span> <span class="cn">TRUE</span>)</span>
<span id="cb122-9"><a href="#cb122-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb122-10"><a href="#cb122-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-11"><a href="#cb122-11" aria-hidden="true" tabindex="-1"></a>fit_workflow2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Tuning results
# 10-fold cross-validation 
# A tibble: 10 x 5
   splits             id     .metrics          .notes           .predictions
   &lt;list&gt;             &lt;chr&gt;  &lt;list&gt;            &lt;list&gt;           &lt;list&gt;      
 1 &lt;split [3380/376]&gt; Fold01 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 2 &lt;split [3380/376]&gt; Fold02 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 3 &lt;split [3380/376]&gt; Fold03 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 4 &lt;split [3380/376]&gt; Fold04 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 5 &lt;split [3380/376]&gt; Fold05 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 6 &lt;split [3380/376]&gt; Fold06 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 7 &lt;split [3381/375]&gt; Fold07 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 8 &lt;split [3381/375]&gt; Fold08 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 9 &lt;split [3381/375]&gt; Fold09 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
10 &lt;split [3381/375]&gt; Fold10 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">collect_metrics</span>(fit_workflow2) <span class="sc">%&gt;%</span> </span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(.metric <span class="sc">==</span> <span class="st">"roc_auc"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(mean, <span class="at">n =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 x 7
       penalty .metric .estimator  mean     n std_err .config             
         &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
1 0.00316      roc_auc binary     0.629    10 0.00995 Preprocessor1_Model4
2 0.0000000001 roc_auc binary     0.622    10 0.00952 Preprocessor1_Model1
3 0.0000000316 roc_auc binary     0.622    10 0.00952 Preprocessor1_Model2
4 0.00001      roc_auc binary     0.622    10 0.00952 Preprocessor1_Model3</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>workflow2_perf <span class="ot">&lt;-</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_metrics</span>(fit_workflow2)</span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>workflow2_perf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 x 7
        penalty .metric  .estimator  mean     n std_err .config             
          &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
 1 0.0000000001 accuracy binary     0.685    10 0.00612 Preprocessor1_Model1
 2 0.0000000001 roc_auc  binary     0.622    10 0.00952 Preprocessor1_Model1
 3 0.0000000316 accuracy binary     0.685    10 0.00612 Preprocessor1_Model2
 4 0.0000000316 roc_auc  binary     0.622    10 0.00952 Preprocessor1_Model2
 5 0.00001      accuracy binary     0.685    10 0.00612 Preprocessor1_Model3
 6 0.00001      roc_auc  binary     0.622    10 0.00952 Preprocessor1_Model3
 7 0.00316      accuracy binary     0.685    10 0.00567 Preprocessor1_Model4
 8 0.00316      roc_auc  binary     0.629    10 0.00995 Preprocessor1_Model4
 9 1            accuracy binary     0.669    10 0.00508 Preprocessor1_Model5
10 1            roc_auc  binary     0.5      10 0       Preprocessor1_Model5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">autoplot</span>(fit_workflow2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="performance-des-2.-workflows" class="level1">
<h1>Performance des 2. Workflows</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>workflow2_pred <span class="ot">&lt;-</span> </span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_predictions</span>(fit_workflow2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>workflow2_pred <span class="sc">%&gt;%</span> </span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">roc_curve</span>(<span class="at">truth =</span> X2, .pred_OFFENSE) <span class="sc">%&gt;%</span> </span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Hier sind die Folds zwar nicht so schnwungartig, aber es ist kaum eine Kurve zu erkennen.</p>
</section>
<section id="workflow-2" class="level1">
<h1>3. Workflow</h1>
<section id="rezept-lassomodell-1" class="level3">
<h3 class="anchored" data-anchor-id="rezept-lassomodell-1">1. Rezept + Lassomodell</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>workflow3 <span class="ot">&lt;-</span> </span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">workflow</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(rezept1) <span class="sc">%&gt;%</span> </span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(lasso_mod)</span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a>workflow3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>== Workflow ====================================================================
Preprocessor: Recipe
Model: logistic_reg()

-- Preprocessor ----------------------------------------------------------------
6 Recipe Steps

* step_tokenize()
* step_stopwords()
* step_tokenfilter()
* step_stem()
* step_tfidf()
* step_normalize()

-- Model -----------------------------------------------------------------------
Logistic Regression Model Specification (classification)

Main Arguments:
  penalty = tune()
  mixture = 1

Computational engine: glmnet </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>fit_workflow3 <span class="ot">&lt;-</span></span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tune_grid</span>(</span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a>    workflow3,</span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>    v_fold,</span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">grid =</span> grid_penalty,</span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> <span class="fu">control_resamples</span>(<span class="at">save_pred =</span> <span class="cn">TRUE</span>)</span>
<span id="cb133-9"><a href="#cb133-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb133-10"><a href="#cb133-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-11"><a href="#cb133-11" aria-hidden="true" tabindex="-1"></a>fit_workflow3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Tuning results
# 10-fold cross-validation 
# A tibble: 10 x 5
   splits             id     .metrics          .notes           .predictions
   &lt;list&gt;             &lt;chr&gt;  &lt;list&gt;            &lt;list&gt;           &lt;list&gt;      
 1 &lt;split [3380/376]&gt; Fold01 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 2 &lt;split [3380/376]&gt; Fold02 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 3 &lt;split [3380/376]&gt; Fold03 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 4 &lt;split [3380/376]&gt; Fold04 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 5 &lt;split [3380/376]&gt; Fold05 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 6 &lt;split [3380/376]&gt; Fold06 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 7 &lt;split [3381/375]&gt; Fold07 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 8 &lt;split [3381/375]&gt; Fold08 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 9 &lt;split [3381/375]&gt; Fold09 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
10 &lt;split [3381/375]&gt; Fold10 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>workflow3_perf <span class="ot">&lt;-</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_metrics</span>(fit_workflow3)</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>workflow3_perf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 x 7
        penalty .metric  .estimator  mean     n std_err .config             
          &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
 1 0.0000000001 accuracy binary     0.663    10 0.00482 Preprocessor1_Model1
 2 0.0000000001 roc_auc  binary     0.607    10 0.0107  Preprocessor1_Model1
 3 0.0000000316 accuracy binary     0.663    10 0.00482 Preprocessor1_Model2
 4 0.0000000316 roc_auc  binary     0.607    10 0.0107  Preprocessor1_Model2
 5 0.00001      accuracy binary     0.663    10 0.00482 Preprocessor1_Model3
 6 0.00001      roc_auc  binary     0.607    10 0.0107  Preprocessor1_Model3
 7 0.00316      accuracy binary     0.668    10 0.00392 Preprocessor1_Model4
 8 0.00316      roc_auc  binary     0.611    10 0.0115  Preprocessor1_Model4
 9 1            accuracy binary     0.669    10 0.00508 Preprocessor1_Model5
10 1            roc_auc  binary     0.5      10 0       Preprocessor1_Model5</code></pre>
</div>
</div>
</section>
</section>
<section id="perfomance-des-3.-workflows" class="level1">
<h1>Perfomance des 3. Workflows</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>workflow3_pred <span class="ot">&lt;-</span> </span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_predictions</span>(fit_workflow3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>workflow3_pred <span class="sc">%&gt;%</span> </span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">roc_curve</span>(<span class="at">truth =</span> X2, .pred_OFFENSE) <span class="sc">%&gt;%</span> </span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Hier sind die Folds sehr geradlienig und es ist somit kaum eine Kurve zu erkennen</p>
</section>
<section id="workflow-3" class="level1">
<h1>4. Workflow</h1>
<section id="rezept-bayesmodell-1" class="level3">
<h3 class="anchored" data-anchor-id="rezept-bayesmodell-1">2. Rezept + Bayesmodell</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>workflow4 <span class="ot">&lt;-</span> </span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">workflow</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(rezept2) <span class="sc">%&gt;%</span> </span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(naiv_bay)</span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-6"><a href="#cb139-6" aria-hidden="true" tabindex="-1"></a>workflow4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>== Workflow ====================================================================
Preprocessor: Recipe
Model: naive_Bayes()

-- Preprocessor ----------------------------------------------------------------
6 Recipe Steps

* step_tokenize()
* step_stopwords()
* step_stem()
* step_tokenfilter()
* step_tf()
* step_normalize()

-- Model -----------------------------------------------------------------------
Naive Bayes Model Specification (classification)

Computational engine: naivebayes </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>fit_workflow4 <span class="ot">&lt;-</span> </span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit_resamples</span>(</span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a>    workflow4,</span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a>    v_fold,</span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> <span class="fu">control_resamples</span>(<span class="at">save_pred =</span> <span class="cn">TRUE</span>)</span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>workflow4_perf <span class="ot">&lt;-</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_metrics</span>(fit_workflow4)</span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>workflow4_perf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 x 6
  .metric  .estimator  mean     n std_err .config             
  &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
1 accuracy binary     0.670    10 0.00489 Preprocessor1_Model1
2 roc_auc  binary     0.637    10 0.0120  Preprocessor1_Model1</code></pre>
</div>
</div>
</section>
</section>
<section id="perfomance-des-4.-workflows" class="level1">
<h1>Perfomance des 4. Workflows</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>workflow4_pred <span class="ot">&lt;-</span> </span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_predictions</span>(fit_workflow4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>workflow4_pred <span class="sc">%&gt;%</span> </span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">roc_curve</span>(<span class="at">truth =</span> X2, .pred_OFFENSE) <span class="sc">%&gt;%</span> </span>
<span id="cb145-4"><a href="#cb145-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-65-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Die Folds hier sind etwas “wackelig” bewegen sich aber gemeinsam in eine Richtung und zeigen eine leichte Kruve</p>
</section>
<section id="rezept-mit-worteinbettungen" class="level1">
<h1>3. Rezept mit Worteinbettungen</h1>
<section id="word-embeddings-erstellen" class="level3">
<h3 class="anchored" data-anchor-id="word-embeddings-erstellen">Word Embeddings erstellen</h3>
<p>Die folgenden Wortvektoren sind aus diesem Paper: E. Grave<em>, P. Bojanowski</em>, P. Gupta, A. Joulin, T. Mikolov, Learning Word Vectors for 157 Languages</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>embedding_txt <span class="ot">&lt;-</span> <span class="st">"C:/R Data Science/cc.de.300.vec"</span></span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>embedding_modell <span class="ot">&lt;-</span> <span class="st">"C:/R Data Science/cc.de.300.bin"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>fasttext_modell <span class="ot">&lt;-</span> <span class="fu">load_model</span>(embedding_modell)</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>dictionary <span class="ot">&lt;-</span> <span class="fu">get_dictionary</span>(fasttext_modell)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>word_embedding <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">word =</span> dictionary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>wortvektoren <span class="ot">&lt;-</span> <span class="fu">get_word_vectors</span>(fasttext_modell)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>word_embedding <span class="ot">&lt;-</span> word_embedding <span class="sc">%&gt;%</span> <span class="fu">bind_cols</span>(wortvektoren)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
* `` -&gt; `...2`
* `` -&gt; `...3`
* `` -&gt; `...4`
* `` -&gt; `...5`
* `` -&gt; `...6`
* `` -&gt; `...7`
* `` -&gt; `...8`
* `` -&gt; `...9`
* `` -&gt; `...10`
* `` -&gt; `...11`
* `` -&gt; `...12`
* `` -&gt; `...13`
* `` -&gt; `...14`
* `` -&gt; `...15`
* `` -&gt; `...16`
* `` -&gt; `...17`
* `` -&gt; `...18`
* `` -&gt; `...19`
* `` -&gt; `...20`
* `` -&gt; `...21`
* `` -&gt; `...22`
* `` -&gt; `...23`
* `` -&gt; `...24`
* `` -&gt; `...25`
* `` -&gt; `...26`
* `` -&gt; `...27`
* `` -&gt; `...28`
* `` -&gt; `...29`
* `` -&gt; `...30`
* `` -&gt; `...31`
* `` -&gt; `...32`
* `` -&gt; `...33`
* `` -&gt; `...34`
* `` -&gt; `...35`
* `` -&gt; `...36`
* `` -&gt; `...37`
* `` -&gt; `...38`
* `` -&gt; `...39`
* `` -&gt; `...40`
* `` -&gt; `...41`
* `` -&gt; `...42`
* `` -&gt; `...43`
* `` -&gt; `...44`
* `` -&gt; `...45`
* `` -&gt; `...46`
* `` -&gt; `...47`
* `` -&gt; `...48`
* `` -&gt; `...49`
* `` -&gt; `...50`
* `` -&gt; `...51`
* `` -&gt; `...52`
* `` -&gt; `...53`
* `` -&gt; `...54`
* `` -&gt; `...55`
* `` -&gt; `...56`
* `` -&gt; `...57`
* `` -&gt; `...58`
* `` -&gt; `...59`
* `` -&gt; `...60`
* `` -&gt; `...61`
* `` -&gt; `...62`
* `` -&gt; `...63`
* `` -&gt; `...64`
* `` -&gt; `...65`
* `` -&gt; `...66`
* `` -&gt; `...67`
* `` -&gt; `...68`
* `` -&gt; `...69`
* `` -&gt; `...70`
* `` -&gt; `...71`
* `` -&gt; `...72`
* `` -&gt; `...73`
* `` -&gt; `...74`
* `` -&gt; `...75`
* `` -&gt; `...76`
* `` -&gt; `...77`
* `` -&gt; `...78`
* `` -&gt; `...79`
* `` -&gt; `...80`
* `` -&gt; `...81`
* `` -&gt; `...82`
* `` -&gt; `...83`
* `` -&gt; `...84`
* `` -&gt; `...85`
* `` -&gt; `...86`
* `` -&gt; `...87`
* `` -&gt; `...88`
* `` -&gt; `...89`
* `` -&gt; `...90`
* `` -&gt; `...91`
* `` -&gt; `...92`
* `` -&gt; `...93`
* `` -&gt; `...94`
* `` -&gt; `...95`
* `` -&gt; `...96`
* `` -&gt; `...97`
* `` -&gt; `...98`
* `` -&gt; `...99`
* `` -&gt; `...100`
* `` -&gt; `...101`
* `` -&gt; `...102`
* `` -&gt; `...103`
* `` -&gt; `...104`
* `` -&gt; `...105`
* `` -&gt; `...106`
* `` -&gt; `...107`
* `` -&gt; `...108`
* `` -&gt; `...109`
* `` -&gt; `...110`
* `` -&gt; `...111`
* `` -&gt; `...112`
* `` -&gt; `...113`
* `` -&gt; `...114`
* `` -&gt; `...115`
* `` -&gt; `...116`
* `` -&gt; `...117`
* `` -&gt; `...118`
* `` -&gt; `...119`
* `` -&gt; `...120`
* `` -&gt; `...121`
* `` -&gt; `...122`
* `` -&gt; `...123`
* `` -&gt; `...124`
* `` -&gt; `...125`
* `` -&gt; `...126`
* `` -&gt; `...127`
* `` -&gt; `...128`
* `` -&gt; `...129`
* `` -&gt; `...130`
* `` -&gt; `...131`
* `` -&gt; `...132`
* `` -&gt; `...133`
* `` -&gt; `...134`
* `` -&gt; `...135`
* `` -&gt; `...136`
* `` -&gt; `...137`
* `` -&gt; `...138`
* `` -&gt; `...139`
* `` -&gt; `...140`
* `` -&gt; `...141`
* `` -&gt; `...142`
* `` -&gt; `...143`
* `` -&gt; `...144`
* `` -&gt; `...145`
* `` -&gt; `...146`
* `` -&gt; `...147`
* `` -&gt; `...148`
* `` -&gt; `...149`
* `` -&gt; `...150`
* `` -&gt; `...151`
* `` -&gt; `...152`
* `` -&gt; `...153`
* `` -&gt; `...154`
* `` -&gt; `...155`
* `` -&gt; `...156`
* `` -&gt; `...157`
* `` -&gt; `...158`
* `` -&gt; `...159`
* `` -&gt; `...160`
* `` -&gt; `...161`
* `` -&gt; `...162`
* `` -&gt; `...163`
* `` -&gt; `...164`
* `` -&gt; `...165`
* `` -&gt; `...166`
* `` -&gt; `...167`
* `` -&gt; `...168`
* `` -&gt; `...169`
* `` -&gt; `...170`
* `` -&gt; `...171`
* `` -&gt; `...172`
* `` -&gt; `...173`
* `` -&gt; `...174`
* `` -&gt; `...175`
* `` -&gt; `...176`
* `` -&gt; `...177`
* `` -&gt; `...178`
* `` -&gt; `...179`
* `` -&gt; `...180`
* `` -&gt; `...181`
* `` -&gt; `...182`
* `` -&gt; `...183`
* `` -&gt; `...184`
* `` -&gt; `...185`
* `` -&gt; `...186`
* `` -&gt; `...187`
* `` -&gt; `...188`
* `` -&gt; `...189`
* `` -&gt; `...190`
* `` -&gt; `...191`
* `` -&gt; `...192`
* `` -&gt; `...193`
* `` -&gt; `...194`
* `` -&gt; `...195`
* `` -&gt; `...196`
* `` -&gt; `...197`
* `` -&gt; `...198`
* `` -&gt; `...199`
* `` -&gt; `...200`
* `` -&gt; `...201`
* `` -&gt; `...202`
* `` -&gt; `...203`
* `` -&gt; `...204`
* `` -&gt; `...205`
* `` -&gt; `...206`
* `` -&gt; `...207`
* `` -&gt; `...208`
* `` -&gt; `...209`
* `` -&gt; `...210`
* `` -&gt; `...211`
* `` -&gt; `...212`
* `` -&gt; `...213`
* `` -&gt; `...214`
* `` -&gt; `...215`
* `` -&gt; `...216`
* `` -&gt; `...217`
* `` -&gt; `...218`
* `` -&gt; `...219`
* `` -&gt; `...220`
* `` -&gt; `...221`
* `` -&gt; `...222`
* `` -&gt; `...223`
* `` -&gt; `...224`
* `` -&gt; `...225`
* `` -&gt; `...226`
* `` -&gt; `...227`
* `` -&gt; `...228`
* `` -&gt; `...229`
* `` -&gt; `...230`
* `` -&gt; `...231`
* `` -&gt; `...232`
* `` -&gt; `...233`
* `` -&gt; `...234`
* `` -&gt; `...235`
* `` -&gt; `...236`
* `` -&gt; `...237`
* `` -&gt; `...238`
* `` -&gt; `...239`
* `` -&gt; `...240`
* `` -&gt; `...241`
* `` -&gt; `...242`
* `` -&gt; `...243`
* `` -&gt; `...244`
* `` -&gt; `...245`
* `` -&gt; `...246`
* `` -&gt; `...247`
* `` -&gt; `...248`
* `` -&gt; `...249`
* `` -&gt; `...250`
* `` -&gt; `...251`
* `` -&gt; `...252`
* `` -&gt; `...253`
* `` -&gt; `...254`
* `` -&gt; `...255`
* `` -&gt; `...256`
* `` -&gt; `...257`
* `` -&gt; `...258`
* `` -&gt; `...259`
* `` -&gt; `...260`
* `` -&gt; `...261`
* `` -&gt; `...262`
* `` -&gt; `...263`
* `` -&gt; `...264`
* `` -&gt; `...265`
* `` -&gt; `...266`
* `` -&gt; `...267`
* `` -&gt; `...268`
* `` -&gt; `...269`
* `` -&gt; `...270`
* `` -&gt; `...271`
* `` -&gt; `...272`
* `` -&gt; `...273`
* `` -&gt; `...274`
* `` -&gt; `...275`
* `` -&gt; `...276`
* `` -&gt; `...277`
* `` -&gt; `...278`
* `` -&gt; `...279`
* `` -&gt; `...280`
* `` -&gt; `...281`
* `` -&gt; `...282`
* `` -&gt; `...283`
* `` -&gt; `...284`
* `` -&gt; `...285`
* `` -&gt; `...286`
* `` -&gt; `...287`
* `` -&gt; `...288`
* `` -&gt; `...289`
* `` -&gt; `...290`
* `` -&gt; `...291`
* `` -&gt; `...292`
* `` -&gt; `...293`
* `` -&gt; `...294`
* `` -&gt; `...295`
* `` -&gt; `...296`
* `` -&gt; `...297`
* `` -&gt; `...298`
* `` -&gt; `...299`
* `` -&gt; `...300`
* `` -&gt; `...301`</code></pre>
</div>
</div>
</section>
<section id="rezept" class="level3">
<h3 class="anchored" data-anchor-id="rezept">3. Rezept</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>rezept3 <span class="ot">&lt;-</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">recipe</span>(X2 <span class="sc">~</span> ., <span class="at">data =</span> <span class="fu">select</span>(data_train, X1, X2, id)) <span class="sc">%&gt;%</span> </span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">update_role</span>(id, <span class="at">new_role =</span> <span class="st">"id"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_tokenize</span>(X1) <span class="sc">%&gt;%</span> </span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_stopwords</span>(X1, <span class="at">language =</span> <span class="st">"de"</span>, <span class="at">stopword_source =</span> <span class="st">"snowball"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_stem</span>(X1) <span class="sc">%&gt;%</span> </span>
<span id="cb152-7"><a href="#cb152-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_tokenfilter</span>(X1, <span class="at">max_tokens =</span> <span class="fl">1e2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb152-8"><a href="#cb152-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_word_embeddings</span>(X1, <span class="at">embeddings =</span> word_embedding) <span class="sc">%&gt;%</span> </span>
<span id="cb152-9"><a href="#cb152-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_normalize</span>(<span class="fu">all_numeric_predictors</span>())</span>
<span id="cb152-10"><a href="#cb152-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-11"><a href="#cb152-11" aria-hidden="true" tabindex="-1"></a>rezept3 </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Recipe

Inputs:

      role #variables
        id          1
   outcome          1
 predictor          1

Operations:

Tokenization for X1
Stop word removal for X1
Stemming for X1
Text filtering for X1
Word embeddings aggregated from X1
Centering and scaling for all_numeric_predictors()</code></pre>
</div>
</div>
<p>Preppen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>rezept3_prep <span class="ot">&lt;-</span> <span class="fu">prep</span>(rezept3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
* `wordembed_X1_...2` -&gt; `wordembed_X1_...4`
* `wordembed_X1_...3` -&gt; `wordembed_X1_...5`
* `wordembed_X1_...4` -&gt; `wordembed_X1_...6`
* `wordembed_X1_...5` -&gt; `wordembed_X1_...7`
* `wordembed_X1_...6` -&gt; `wordembed_X1_...8`
* `wordembed_X1_...7` -&gt; `wordembed_X1_...9`
* `wordembed_X1_...8` -&gt; `wordembed_X1_...10`
* `wordembed_X1_...9` -&gt; `wordembed_X1_...11`
* `wordembed_X1_...10` -&gt; `wordembed_X1_...12`
* `wordembed_X1_...11` -&gt; `wordembed_X1_...13`
* `wordembed_X1_...12` -&gt; `wordembed_X1_...14`
* `wordembed_X1_...13` -&gt; `wordembed_X1_...15`
* `wordembed_X1_...14` -&gt; `wordembed_X1_...16`
* `wordembed_X1_...15` -&gt; `wordembed_X1_...17`
* `wordembed_X1_...16` -&gt; `wordembed_X1_...18`
* `wordembed_X1_...17` -&gt; `wordembed_X1_...19`
* `wordembed_X1_...18` -&gt; `wordembed_X1_...20`
* `wordembed_X1_...19` -&gt; `wordembed_X1_...21`
* `wordembed_X1_...20` -&gt; `wordembed_X1_...22`
* `wordembed_X1_...21` -&gt; `wordembed_X1_...23`
* `wordembed_X1_...22` -&gt; `wordembed_X1_...24`
* `wordembed_X1_...23` -&gt; `wordembed_X1_...25`
* `wordembed_X1_...24` -&gt; `wordembed_X1_...26`
* `wordembed_X1_...25` -&gt; `wordembed_X1_...27`
* `wordembed_X1_...26` -&gt; `wordembed_X1_...28`
* `wordembed_X1_...27` -&gt; `wordembed_X1_...29`
* `wordembed_X1_...28` -&gt; `wordembed_X1_...30`
* `wordembed_X1_...29` -&gt; `wordembed_X1_...31`
* `wordembed_X1_...30` -&gt; `wordembed_X1_...32`
* `wordembed_X1_...31` -&gt; `wordembed_X1_...33`
* `wordembed_X1_...32` -&gt; `wordembed_X1_...34`
* `wordembed_X1_...33` -&gt; `wordembed_X1_...35`
* `wordembed_X1_...34` -&gt; `wordembed_X1_...36`
* `wordembed_X1_...35` -&gt; `wordembed_X1_...37`
* `wordembed_X1_...36` -&gt; `wordembed_X1_...38`
* `wordembed_X1_...37` -&gt; `wordembed_X1_...39`
* `wordembed_X1_...38` -&gt; `wordembed_X1_...40`
* `wordembed_X1_...39` -&gt; `wordembed_X1_...41`
* `wordembed_X1_...40` -&gt; `wordembed_X1_...42`
* `wordembed_X1_...41` -&gt; `wordembed_X1_...43`
* `wordembed_X1_...42` -&gt; `wordembed_X1_...44`
* `wordembed_X1_...43` -&gt; `wordembed_X1_...45`
* `wordembed_X1_...44` -&gt; `wordembed_X1_...46`
* `wordembed_X1_...45` -&gt; `wordembed_X1_...47`
* `wordembed_X1_...46` -&gt; `wordembed_X1_...48`
* `wordembed_X1_...47` -&gt; `wordembed_X1_...49`
* `wordembed_X1_...48` -&gt; `wordembed_X1_...50`
* `wordembed_X1_...49` -&gt; `wordembed_X1_...51`
* `wordembed_X1_...50` -&gt; `wordembed_X1_...52`
* `wordembed_X1_...51` -&gt; `wordembed_X1_...53`
* `wordembed_X1_...52` -&gt; `wordembed_X1_...54`
* `wordembed_X1_...53` -&gt; `wordembed_X1_...55`
* `wordembed_X1_...54` -&gt; `wordembed_X1_...56`
* `wordembed_X1_...55` -&gt; `wordembed_X1_...57`
* `wordembed_X1_...56` -&gt; `wordembed_X1_...58`
* `wordembed_X1_...57` -&gt; `wordembed_X1_...59`
* `wordembed_X1_...58` -&gt; `wordembed_X1_...60`
* `wordembed_X1_...59` -&gt; `wordembed_X1_...61`
* `wordembed_X1_...60` -&gt; `wordembed_X1_...62`
* `wordembed_X1_...61` -&gt; `wordembed_X1_...63`
* `wordembed_X1_...62` -&gt; `wordembed_X1_...64`
* `wordembed_X1_...63` -&gt; `wordembed_X1_...65`
* `wordembed_X1_...64` -&gt; `wordembed_X1_...66`
* `wordembed_X1_...65` -&gt; `wordembed_X1_...67`
* `wordembed_X1_...66` -&gt; `wordembed_X1_...68`
* `wordembed_X1_...67` -&gt; `wordembed_X1_...69`
* `wordembed_X1_...68` -&gt; `wordembed_X1_...70`
* `wordembed_X1_...69` -&gt; `wordembed_X1_...71`
* `wordembed_X1_...70` -&gt; `wordembed_X1_...72`
* `wordembed_X1_...71` -&gt; `wordembed_X1_...73`
* `wordembed_X1_...72` -&gt; `wordembed_X1_...74`
* `wordembed_X1_...73` -&gt; `wordembed_X1_...75`
* `wordembed_X1_...74` -&gt; `wordembed_X1_...76`
* `wordembed_X1_...75` -&gt; `wordembed_X1_...77`
* `wordembed_X1_...76` -&gt; `wordembed_X1_...78`
* `wordembed_X1_...77` -&gt; `wordembed_X1_...79`
* `wordembed_X1_...78` -&gt; `wordembed_X1_...80`
* `wordembed_X1_...79` -&gt; `wordembed_X1_...81`
* `wordembed_X1_...80` -&gt; `wordembed_X1_...82`
* `wordembed_X1_...81` -&gt; `wordembed_X1_...83`
* `wordembed_X1_...82` -&gt; `wordembed_X1_...84`
* `wordembed_X1_...83` -&gt; `wordembed_X1_...85`
* `wordembed_X1_...84` -&gt; `wordembed_X1_...86`
* `wordembed_X1_...85` -&gt; `wordembed_X1_...87`
* `wordembed_X1_...86` -&gt; `wordembed_X1_...88`
* `wordembed_X1_...87` -&gt; `wordembed_X1_...89`
* `wordembed_X1_...88` -&gt; `wordembed_X1_...90`
* `wordembed_X1_...89` -&gt; `wordembed_X1_...91`
* `wordembed_X1_...90` -&gt; `wordembed_X1_...92`
* `wordembed_X1_...91` -&gt; `wordembed_X1_...93`
* `wordembed_X1_...92` -&gt; `wordembed_X1_...94`
* `wordembed_X1_...93` -&gt; `wordembed_X1_...95`
* `wordembed_X1_...94` -&gt; `wordembed_X1_...96`
* `wordembed_X1_...95` -&gt; `wordembed_X1_...97`
* `wordembed_X1_...96` -&gt; `wordembed_X1_...98`
* `wordembed_X1_...97` -&gt; `wordembed_X1_...99`
* `wordembed_X1_...98` -&gt; `wordembed_X1_...100`
* `wordembed_X1_...99` -&gt; `wordembed_X1_...101`
* `wordembed_X1_...100` -&gt; `wordembed_X1_...102`
* `wordembed_X1_...101` -&gt; `wordembed_X1_...103`
* `wordembed_X1_...102` -&gt; `wordembed_X1_...104`
* `wordembed_X1_...103` -&gt; `wordembed_X1_...105`
* `wordembed_X1_...104` -&gt; `wordembed_X1_...106`
* `wordembed_X1_...105` -&gt; `wordembed_X1_...107`
* `wordembed_X1_...106` -&gt; `wordembed_X1_...108`
* `wordembed_X1_...107` -&gt; `wordembed_X1_...109`
* `wordembed_X1_...108` -&gt; `wordembed_X1_...110`
* `wordembed_X1_...109` -&gt; `wordembed_X1_...111`
* `wordembed_X1_...110` -&gt; `wordembed_X1_...112`
* `wordembed_X1_...111` -&gt; `wordembed_X1_...113`
* `wordembed_X1_...112` -&gt; `wordembed_X1_...114`
* `wordembed_X1_...113` -&gt; `wordembed_X1_...115`
* `wordembed_X1_...114` -&gt; `wordembed_X1_...116`
* `wordembed_X1_...115` -&gt; `wordembed_X1_...117`
* `wordembed_X1_...116` -&gt; `wordembed_X1_...118`
* `wordembed_X1_...117` -&gt; `wordembed_X1_...119`
* `wordembed_X1_...118` -&gt; `wordembed_X1_...120`
* `wordembed_X1_...119` -&gt; `wordembed_X1_...121`
* `wordembed_X1_...120` -&gt; `wordembed_X1_...122`
* `wordembed_X1_...121` -&gt; `wordembed_X1_...123`
* `wordembed_X1_...122` -&gt; `wordembed_X1_...124`
* `wordembed_X1_...123` -&gt; `wordembed_X1_...125`
* `wordembed_X1_...124` -&gt; `wordembed_X1_...126`
* `wordembed_X1_...125` -&gt; `wordembed_X1_...127`
* `wordembed_X1_...126` -&gt; `wordembed_X1_...128`
* `wordembed_X1_...127` -&gt; `wordembed_X1_...129`
* `wordembed_X1_...128` -&gt; `wordembed_X1_...130`
* `wordembed_X1_...129` -&gt; `wordembed_X1_...131`
* `wordembed_X1_...130` -&gt; `wordembed_X1_...132`
* `wordembed_X1_...131` -&gt; `wordembed_X1_...133`
* `wordembed_X1_...132` -&gt; `wordembed_X1_...134`
* `wordembed_X1_...133` -&gt; `wordembed_X1_...135`
* `wordembed_X1_...134` -&gt; `wordembed_X1_...136`
* `wordembed_X1_...135` -&gt; `wordembed_X1_...137`
* `wordembed_X1_...136` -&gt; `wordembed_X1_...138`
* `wordembed_X1_...137` -&gt; `wordembed_X1_...139`
* `wordembed_X1_...138` -&gt; `wordembed_X1_...140`
* `wordembed_X1_...139` -&gt; `wordembed_X1_...141`
* `wordembed_X1_...140` -&gt; `wordembed_X1_...142`
* `wordembed_X1_...141` -&gt; `wordembed_X1_...143`
* `wordembed_X1_...142` -&gt; `wordembed_X1_...144`
* `wordembed_X1_...143` -&gt; `wordembed_X1_...145`
* `wordembed_X1_...144` -&gt; `wordembed_X1_...146`
* `wordembed_X1_...145` -&gt; `wordembed_X1_...147`
* `wordembed_X1_...146` -&gt; `wordembed_X1_...148`
* `wordembed_X1_...147` -&gt; `wordembed_X1_...149`
* `wordembed_X1_...148` -&gt; `wordembed_X1_...150`
* `wordembed_X1_...149` -&gt; `wordembed_X1_...151`
* `wordembed_X1_...150` -&gt; `wordembed_X1_...152`
* `wordembed_X1_...151` -&gt; `wordembed_X1_...153`
* `wordembed_X1_...152` -&gt; `wordembed_X1_...154`
* `wordembed_X1_...153` -&gt; `wordembed_X1_...155`
* `wordembed_X1_...154` -&gt; `wordembed_X1_...156`
* `wordembed_X1_...155` -&gt; `wordembed_X1_...157`
* `wordembed_X1_...156` -&gt; `wordembed_X1_...158`
* `wordembed_X1_...157` -&gt; `wordembed_X1_...159`
* `wordembed_X1_...158` -&gt; `wordembed_X1_...160`
* `wordembed_X1_...159` -&gt; `wordembed_X1_...161`
* `wordembed_X1_...160` -&gt; `wordembed_X1_...162`
* `wordembed_X1_...161` -&gt; `wordembed_X1_...163`
* `wordembed_X1_...162` -&gt; `wordembed_X1_...164`
* `wordembed_X1_...163` -&gt; `wordembed_X1_...165`
* `wordembed_X1_...164` -&gt; `wordembed_X1_...166`
* `wordembed_X1_...165` -&gt; `wordembed_X1_...167`
* `wordembed_X1_...166` -&gt; `wordembed_X1_...168`
* `wordembed_X1_...167` -&gt; `wordembed_X1_...169`
* `wordembed_X1_...168` -&gt; `wordembed_X1_...170`
* `wordembed_X1_...169` -&gt; `wordembed_X1_...171`
* `wordembed_X1_...170` -&gt; `wordembed_X1_...172`
* `wordembed_X1_...171` -&gt; `wordembed_X1_...173`
* `wordembed_X1_...172` -&gt; `wordembed_X1_...174`
* `wordembed_X1_...173` -&gt; `wordembed_X1_...175`
* `wordembed_X1_...174` -&gt; `wordembed_X1_...176`
* `wordembed_X1_...175` -&gt; `wordembed_X1_...177`
* `wordembed_X1_...176` -&gt; `wordembed_X1_...178`
* `wordembed_X1_...177` -&gt; `wordembed_X1_...179`
* `wordembed_X1_...178` -&gt; `wordembed_X1_...180`
* `wordembed_X1_...179` -&gt; `wordembed_X1_...181`
* `wordembed_X1_...180` -&gt; `wordembed_X1_...182`
* `wordembed_X1_...181` -&gt; `wordembed_X1_...183`
* `wordembed_X1_...182` -&gt; `wordembed_X1_...184`
* `wordembed_X1_...183` -&gt; `wordembed_X1_...185`
* `wordembed_X1_...184` -&gt; `wordembed_X1_...186`
* `wordembed_X1_...185` -&gt; `wordembed_X1_...187`
* `wordembed_X1_...186` -&gt; `wordembed_X1_...188`
* `wordembed_X1_...187` -&gt; `wordembed_X1_...189`
* `wordembed_X1_...188` -&gt; `wordembed_X1_...190`
* `wordembed_X1_...189` -&gt; `wordembed_X1_...191`
* `wordembed_X1_...190` -&gt; `wordembed_X1_...192`
* `wordembed_X1_...191` -&gt; `wordembed_X1_...193`
* `wordembed_X1_...192` -&gt; `wordembed_X1_...194`
* `wordembed_X1_...193` -&gt; `wordembed_X1_...195`
* `wordembed_X1_...194` -&gt; `wordembed_X1_...196`
* `wordembed_X1_...195` -&gt; `wordembed_X1_...197`
* `wordembed_X1_...196` -&gt; `wordembed_X1_...198`
* `wordembed_X1_...197` -&gt; `wordembed_X1_...199`
* `wordembed_X1_...198` -&gt; `wordembed_X1_...200`
* `wordembed_X1_...199` -&gt; `wordembed_X1_...201`
* `wordembed_X1_...200` -&gt; `wordembed_X1_...202`
* `wordembed_X1_...201` -&gt; `wordembed_X1_...203`
* `wordembed_X1_...202` -&gt; `wordembed_X1_...204`
* `wordembed_X1_...203` -&gt; `wordembed_X1_...205`
* `wordembed_X1_...204` -&gt; `wordembed_X1_...206`
* `wordembed_X1_...205` -&gt; `wordembed_X1_...207`
* `wordembed_X1_...206` -&gt; `wordembed_X1_...208`
* `wordembed_X1_...207` -&gt; `wordembed_X1_...209`
* `wordembed_X1_...208` -&gt; `wordembed_X1_...210`
* `wordembed_X1_...209` -&gt; `wordembed_X1_...211`
* `wordembed_X1_...210` -&gt; `wordembed_X1_...212`
* `wordembed_X1_...211` -&gt; `wordembed_X1_...213`
* `wordembed_X1_...212` -&gt; `wordembed_X1_...214`
* `wordembed_X1_...213` -&gt; `wordembed_X1_...215`
* `wordembed_X1_...214` -&gt; `wordembed_X1_...216`
* `wordembed_X1_...215` -&gt; `wordembed_X1_...217`
* `wordembed_X1_...216` -&gt; `wordembed_X1_...218`
* `wordembed_X1_...217` -&gt; `wordembed_X1_...219`
* `wordembed_X1_...218` -&gt; `wordembed_X1_...220`
* `wordembed_X1_...219` -&gt; `wordembed_X1_...221`
* `wordembed_X1_...220` -&gt; `wordembed_X1_...222`
* `wordembed_X1_...221` -&gt; `wordembed_X1_...223`
* `wordembed_X1_...222` -&gt; `wordembed_X1_...224`
* `wordembed_X1_...223` -&gt; `wordembed_X1_...225`
* `wordembed_X1_...224` -&gt; `wordembed_X1_...226`
* `wordembed_X1_...225` -&gt; `wordembed_X1_...227`
* `wordembed_X1_...226` -&gt; `wordembed_X1_...228`
* `wordembed_X1_...227` -&gt; `wordembed_X1_...229`
* `wordembed_X1_...228` -&gt; `wordembed_X1_...230`
* `wordembed_X1_...229` -&gt; `wordembed_X1_...231`
* `wordembed_X1_...230` -&gt; `wordembed_X1_...232`
* `wordembed_X1_...231` -&gt; `wordembed_X1_...233`
* `wordembed_X1_...232` -&gt; `wordembed_X1_...234`
* `wordembed_X1_...233` -&gt; `wordembed_X1_...235`
* `wordembed_X1_...234` -&gt; `wordembed_X1_...236`
* `wordembed_X1_...235` -&gt; `wordembed_X1_...237`
* `wordembed_X1_...236` -&gt; `wordembed_X1_...238`
* `wordembed_X1_...237` -&gt; `wordembed_X1_...239`
* `wordembed_X1_...238` -&gt; `wordembed_X1_...240`
* `wordembed_X1_...239` -&gt; `wordembed_X1_...241`
* `wordembed_X1_...240` -&gt; `wordembed_X1_...242`
* `wordembed_X1_...241` -&gt; `wordembed_X1_...243`
* `wordembed_X1_...242` -&gt; `wordembed_X1_...244`
* `wordembed_X1_...243` -&gt; `wordembed_X1_...245`
* `wordembed_X1_...244` -&gt; `wordembed_X1_...246`
* `wordembed_X1_...245` -&gt; `wordembed_X1_...247`
* `wordembed_X1_...246` -&gt; `wordembed_X1_...248`
* `wordembed_X1_...247` -&gt; `wordembed_X1_...249`
* `wordembed_X1_...248` -&gt; `wordembed_X1_...250`
* `wordembed_X1_...249` -&gt; `wordembed_X1_...251`
* `wordembed_X1_...250` -&gt; `wordembed_X1_...252`
* `wordembed_X1_...251` -&gt; `wordembed_X1_...253`
* `wordembed_X1_...252` -&gt; `wordembed_X1_...254`
* `wordembed_X1_...253` -&gt; `wordembed_X1_...255`
* `wordembed_X1_...254` -&gt; `wordembed_X1_...256`
* `wordembed_X1_...255` -&gt; `wordembed_X1_...257`
* `wordembed_X1_...256` -&gt; `wordembed_X1_...258`
* `wordembed_X1_...257` -&gt; `wordembed_X1_...259`
* `wordembed_X1_...258` -&gt; `wordembed_X1_...260`
* `wordembed_X1_...259` -&gt; `wordembed_X1_...261`
* `wordembed_X1_...260` -&gt; `wordembed_X1_...262`
* `wordembed_X1_...261` -&gt; `wordembed_X1_...263`
* `wordembed_X1_...262` -&gt; `wordembed_X1_...264`
* `wordembed_X1_...263` -&gt; `wordembed_X1_...265`
* `wordembed_X1_...264` -&gt; `wordembed_X1_...266`
* `wordembed_X1_...265` -&gt; `wordembed_X1_...267`
* `wordembed_X1_...266` -&gt; `wordembed_X1_...268`
* `wordembed_X1_...267` -&gt; `wordembed_X1_...269`
* `wordembed_X1_...268` -&gt; `wordembed_X1_...270`
* `wordembed_X1_...269` -&gt; `wordembed_X1_...271`
* `wordembed_X1_...270` -&gt; `wordembed_X1_...272`
* `wordembed_X1_...271` -&gt; `wordembed_X1_...273`
* `wordembed_X1_...272` -&gt; `wordembed_X1_...274`
* `wordembed_X1_...273` -&gt; `wordembed_X1_...275`
* `wordembed_X1_...274` -&gt; `wordembed_X1_...276`
* `wordembed_X1_...275` -&gt; `wordembed_X1_...277`
* `wordembed_X1_...276` -&gt; `wordembed_X1_...278`
* `wordembed_X1_...277` -&gt; `wordembed_X1_...279`
* `wordembed_X1_...278` -&gt; `wordembed_X1_...280`
* `wordembed_X1_...279` -&gt; `wordembed_X1_...281`
* `wordembed_X1_...280` -&gt; `wordembed_X1_...282`
* `wordembed_X1_...281` -&gt; `wordembed_X1_...283`
* `wordembed_X1_...282` -&gt; `wordembed_X1_...284`
* `wordembed_X1_...283` -&gt; `wordembed_X1_...285`
* `wordembed_X1_...284` -&gt; `wordembed_X1_...286`
* `wordembed_X1_...285` -&gt; `wordembed_X1_...287`
* `wordembed_X1_...286` -&gt; `wordembed_X1_...288`
* `wordembed_X1_...287` -&gt; `wordembed_X1_...289`
* `wordembed_X1_...288` -&gt; `wordembed_X1_...290`
* `wordembed_X1_...289` -&gt; `wordembed_X1_...291`
* `wordembed_X1_...290` -&gt; `wordembed_X1_...292`
* `wordembed_X1_...291` -&gt; `wordembed_X1_...293`
* `wordembed_X1_...292` -&gt; `wordembed_X1_...294`
* `wordembed_X1_...293` -&gt; `wordembed_X1_...295`
* `wordembed_X1_...294` -&gt; `wordembed_X1_...296`
* `wordembed_X1_...295` -&gt; `wordembed_X1_...297`
* `wordembed_X1_...296` -&gt; `wordembed_X1_...298`
* `wordembed_X1_...297` -&gt; `wordembed_X1_...299`
* `wordembed_X1_...298` -&gt; `wordembed_X1_...300`
* `wordembed_X1_...299` -&gt; `wordembed_X1_...301`
* `wordembed_X1_...300` -&gt; `wordembed_X1_...302`
* `wordembed_X1_...301` -&gt; `wordembed_X1_...303`</code></pre>
</div>
</div>
<p>Baken:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>rezept3_bake <span class="ot">&lt;-</span> <span class="fu">bake</span>(rezept3_prep, <span class="at">new_data =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="workflow-4" class="level1">
<h1>5. Workflow</h1>
<section id="word-embedding-mit-lassomodell" class="level3">
<h3 class="anchored" data-anchor-id="word-embedding-mit-lassomodell">Word Embedding mit Lassomodell</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>workflow5 <span class="ot">&lt;-</span> </span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">workflow</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(rezept3) <span class="sc">%&gt;%</span> </span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(lasso_mod)</span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a>workflow5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>== Workflow ====================================================================
Preprocessor: Recipe
Model: logistic_reg()

-- Preprocessor ----------------------------------------------------------------
6 Recipe Steps

* step_tokenize()
* step_stopwords()
* step_stem()
* step_tokenfilter()
* step_word_embeddings()
* step_normalize()

-- Model -----------------------------------------------------------------------
Logistic Regression Model Specification (classification)

Main Arguments:
  penalty = tune()
  mixture = 1

Computational engine: glmnet </code></pre>
</div>
</div>
<p>Fitten:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a>fit_workflow5 <span class="ot">&lt;-</span></span>
<span id="cb159-4"><a href="#cb159-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tune_grid</span>(</span>
<span id="cb159-5"><a href="#cb159-5" aria-hidden="true" tabindex="-1"></a>    workflow5,</span>
<span id="cb159-6"><a href="#cb159-6" aria-hidden="true" tabindex="-1"></a>    v_fold,</span>
<span id="cb159-7"><a href="#cb159-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">grid =</span> grid_penalty,</span>
<span id="cb159-8"><a href="#cb159-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> <span class="fu">control_resamples</span>(<span class="at">save_pred =</span> <span class="cn">TRUE</span>)</span>
<span id="cb159-9"><a href="#cb159-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
* `wordembed_X1_...2` -&gt; `wordembed_X1_...4`
* `wordembed_X1_...3` -&gt; `wordembed_X1_...5`
* `wordembed_X1_...4` -&gt; `wordembed_X1_...6`
* `wordembed_X1_...5` -&gt; `wordembed_X1_...7`
* `wordembed_X1_...6` -&gt; `wordembed_X1_...8`
* `wordembed_X1_...7` -&gt; `wordembed_X1_...9`
* `wordembed_X1_...8` -&gt; `wordembed_X1_...10`
* `wordembed_X1_...9` -&gt; `wordembed_X1_...11`
* `wordembed_X1_...10` -&gt; `wordembed_X1_...12`
* `wordembed_X1_...11` -&gt; `wordembed_X1_...13`
* `wordembed_X1_...12` -&gt; `wordembed_X1_...14`
* `wordembed_X1_...13` -&gt; `wordembed_X1_...15`
* `wordembed_X1_...14` -&gt; `wordembed_X1_...16`
* `wordembed_X1_...15` -&gt; `wordembed_X1_...17`
* `wordembed_X1_...16` -&gt; `wordembed_X1_...18`
* `wordembed_X1_...17` -&gt; `wordembed_X1_...19`
* `wordembed_X1_...18` -&gt; `wordembed_X1_...20`
* `wordembed_X1_...19` -&gt; `wordembed_X1_...21`
* `wordembed_X1_...20` -&gt; `wordembed_X1_...22`
* `wordembed_X1_...21` -&gt; `wordembed_X1_...23`
* `wordembed_X1_...22` -&gt; `wordembed_X1_...24`
* `wordembed_X1_...23` -&gt; `wordembed_X1_...25`
* `wordembed_X1_...24` -&gt; `wordembed_X1_...26`
* `wordembed_X1_...25` -&gt; `wordembed_X1_...27`
* `wordembed_X1_...26` -&gt; `wordembed_X1_...28`
* `wordembed_X1_...27` -&gt; `wordembed_X1_...29`
* `wordembed_X1_...28` -&gt; `wordembed_X1_...30`
* `wordembed_X1_...29` -&gt; `wordembed_X1_...31`
* `wordembed_X1_...30` -&gt; `wordembed_X1_...32`
* `wordembed_X1_...31` -&gt; `wordembed_X1_...33`
* `wordembed_X1_...32` -&gt; `wordembed_X1_...34`
* `wordembed_X1_...33` -&gt; `wordembed_X1_...35`
* `wordembed_X1_...34` -&gt; `wordembed_X1_...36`
* `wordembed_X1_...35` -&gt; `wordembed_X1_...37`
* `wordembed_X1_...36` -&gt; `wordembed_X1_...38`
* `wordembed_X1_...37` -&gt; `wordembed_X1_...39`
* `wordembed_X1_...38` -&gt; `wordembed_X1_...40`
* `wordembed_X1_...39` -&gt; `wordembed_X1_...41`
* `wordembed_X1_...40` -&gt; `wordembed_X1_...42`
* `wordembed_X1_...41` -&gt; `wordembed_X1_...43`
* `wordembed_X1_...42` -&gt; `wordembed_X1_...44`
* `wordembed_X1_...43` -&gt; `wordembed_X1_...45`
* `wordembed_X1_...44` -&gt; `wordembed_X1_...46`
* `wordembed_X1_...45` -&gt; `wordembed_X1_...47`
* `wordembed_X1_...46` -&gt; `wordembed_X1_...48`
* `wordembed_X1_...47` -&gt; `wordembed_X1_...49`
* `wordembed_X1_...48` -&gt; `wordembed_X1_...50`
* `wordembed_X1_...49` -&gt; `wordembed_X1_...51`
* `wordembed_X1_...50` -&gt; `wordembed_X1_...52`
* `wordembed_X1_...51` -&gt; `wordembed_X1_...53`
* `wordembed_X1_...52` -&gt; `wordembed_X1_...54`
* `wordembed_X1_...53` -&gt; `wordembed_X1_...55`
* `wordembed_X1_...54` -&gt; `wordembed_X1_...56`
* `wordembed_X1_...55` -&gt; `wordembed_X1_...57`
* `wordembed_X1_...56` -&gt; `wordembed_X1_...58`
* `wordembed_X1_...57` -&gt; `wordembed_X1_...59`
* `wordembed_X1_...58` -&gt; `wordembed_X1_...60`
* `wordembed_X1_...59` -&gt; `wordembed_X1_...61`
* `wordembed_X1_...60` -&gt; `wordembed_X1_...62`
* `wordembed_X1_...61` -&gt; `wordembed_X1_...63`
* `wordembed_X1_...62` -&gt; `wordembed_X1_...64`
* `wordembed_X1_...63` -&gt; `wordembed_X1_...65`
* `wordembed_X1_...64` -&gt; `wordembed_X1_...66`
* `wordembed_X1_...65` -&gt; `wordembed_X1_...67`
* `wordembed_X1_...66` -&gt; `wordembed_X1_...68`
* `wordembed_X1_...67` -&gt; `wordembed_X1_...69`
* `wordembed_X1_...68` -&gt; `wordembed_X1_...70`
* `wordembed_X1_...69` -&gt; `wordembed_X1_...71`
* `wordembed_X1_...70` -&gt; `wordembed_X1_...72`
* `wordembed_X1_...71` -&gt; `wordembed_X1_...73`
* `wordembed_X1_...72` -&gt; `wordembed_X1_...74`
* `wordembed_X1_...73` -&gt; `wordembed_X1_...75`
* `wordembed_X1_...74` -&gt; `wordembed_X1_...76`
* `wordembed_X1_...75` -&gt; `wordembed_X1_...77`
* `wordembed_X1_...76` -&gt; `wordembed_X1_...78`
* `wordembed_X1_...77` -&gt; `wordembed_X1_...79`
* `wordembed_X1_...78` -&gt; `wordembed_X1_...80`
* `wordembed_X1_...79` -&gt; `wordembed_X1_...81`
* `wordembed_X1_...80` -&gt; `wordembed_X1_...82`
* `wordembed_X1_...81` -&gt; `wordembed_X1_...83`
* `wordembed_X1_...82` -&gt; `wordembed_X1_...84`
* `wordembed_X1_...83` -&gt; `wordembed_X1_...85`
* `wordembed_X1_...84` -&gt; `wordembed_X1_...86`
* `wordembed_X1_...85` -&gt; `wordembed_X1_...87`
* `wordembed_X1_...86` -&gt; `wordembed_X1_...88`
* `wordembed_X1_...87` -&gt; `wordembed_X1_...89`
* `wordembed_X1_...88` -&gt; `wordembed_X1_...90`
* `wordembed_X1_...89` -&gt; `wordembed_X1_...91`
* `wordembed_X1_...90` -&gt; `wordembed_X1_...92`
* `wordembed_X1_...91` -&gt; `wordembed_X1_...93`
* `wordembed_X1_...92` -&gt; `wordembed_X1_...94`
* `wordembed_X1_...93` -&gt; `wordembed_X1_...95`
* `wordembed_X1_...94` -&gt; `wordembed_X1_...96`
* `wordembed_X1_...95` -&gt; `wordembed_X1_...97`
* `wordembed_X1_...96` -&gt; `wordembed_X1_...98`
* `wordembed_X1_...97` -&gt; `wordembed_X1_...99`
* `wordembed_X1_...98` -&gt; `wordembed_X1_...100`
* `wordembed_X1_...99` -&gt; `wordembed_X1_...101`
* `wordembed_X1_...100` -&gt; `wordembed_X1_...102`
* `wordembed_X1_...101` -&gt; `wordembed_X1_...103`
* `wordembed_X1_...102` -&gt; `wordembed_X1_...104`
* `wordembed_X1_...103` -&gt; `wordembed_X1_...105`
* `wordembed_X1_...104` -&gt; `wordembed_X1_...106`
* `wordembed_X1_...105` -&gt; `wordembed_X1_...107`
* `wordembed_X1_...106` -&gt; `wordembed_X1_...108`
* `wordembed_X1_...107` -&gt; `wordembed_X1_...109`
* `wordembed_X1_...108` -&gt; `wordembed_X1_...110`
* `wordembed_X1_...109` -&gt; `wordembed_X1_...111`
* `wordembed_X1_...110` -&gt; `wordembed_X1_...112`
* `wordembed_X1_...111` -&gt; `wordembed_X1_...113`
* `wordembed_X1_...112` -&gt; `wordembed_X1_...114`
* `wordembed_X1_...113` -&gt; `wordembed_X1_...115`
* `wordembed_X1_...114` -&gt; `wordembed_X1_...116`
* `wordembed_X1_...115` -&gt; `wordembed_X1_...117`
* `wordembed_X1_...116` -&gt; `wordembed_X1_...118`
* `wordembed_X1_...117` -&gt; `wordembed_X1_...119`
* `wordembed_X1_...118` -&gt; `wordembed_X1_...120`
* `wordembed_X1_...119` -&gt; `wordembed_X1_...121`
* `wordembed_X1_...120` -&gt; `wordembed_X1_...122`
* `wordembed_X1_...121` -&gt; `wordembed_X1_...123`
* `wordembed_X1_...122` -&gt; `wordembed_X1_...124`
* `wordembed_X1_...123` -&gt; `wordembed_X1_...125`
* `wordembed_X1_...124` -&gt; `wordembed_X1_...126`
* `wordembed_X1_...125` -&gt; `wordembed_X1_...127`
* `wordembed_X1_...126` -&gt; `wordembed_X1_...128`
* `wordembed_X1_...127` -&gt; `wordembed_X1_...129`
* `wordembed_X1_...128` -&gt; `wordembed_X1_...130`
* `wordembed_X1_...129` -&gt; `wordembed_X1_...131`
* `wordembed_X1_...130` -&gt; `wordembed_X1_...132`
* `wordembed_X1_...131` -&gt; `wordembed_X1_...133`
* `wordembed_X1_...132` -&gt; `wordembed_X1_...134`
* `wordembed_X1_...133` -&gt; `wordembed_X1_...135`
* `wordembed_X1_...134` -&gt; `wordembed_X1_...136`
* `wordembed_X1_...135` -&gt; `wordembed_X1_...137`
* `wordembed_X1_...136` -&gt; `wordembed_X1_...138`
* `wordembed_X1_...137` -&gt; `wordembed_X1_...139`
* `wordembed_X1_...138` -&gt; `wordembed_X1_...140`
* `wordembed_X1_...139` -&gt; `wordembed_X1_...141`
* `wordembed_X1_...140` -&gt; `wordembed_X1_...142`
* `wordembed_X1_...141` -&gt; `wordembed_X1_...143`
* `wordembed_X1_...142` -&gt; `wordembed_X1_...144`
* `wordembed_X1_...143` -&gt; `wordembed_X1_...145`
* `wordembed_X1_...144` -&gt; `wordembed_X1_...146`
* `wordembed_X1_...145` -&gt; `wordembed_X1_...147`
* `wordembed_X1_...146` -&gt; `wordembed_X1_...148`
* `wordembed_X1_...147` -&gt; `wordembed_X1_...149`
* `wordembed_X1_...148` -&gt; `wordembed_X1_...150`
* `wordembed_X1_...149` -&gt; `wordembed_X1_...151`
* `wordembed_X1_...150` -&gt; `wordembed_X1_...152`
* `wordembed_X1_...151` -&gt; `wordembed_X1_...153`
* `wordembed_X1_...152` -&gt; `wordembed_X1_...154`
* `wordembed_X1_...153` -&gt; `wordembed_X1_...155`
* `wordembed_X1_...154` -&gt; `wordembed_X1_...156`
* `wordembed_X1_...155` -&gt; `wordembed_X1_...157`
* `wordembed_X1_...156` -&gt; `wordembed_X1_...158`
* `wordembed_X1_...157` -&gt; `wordembed_X1_...159`
* `wordembed_X1_...158` -&gt; `wordembed_X1_...160`
* `wordembed_X1_...159` -&gt; `wordembed_X1_...161`
* `wordembed_X1_...160` -&gt; `wordembed_X1_...162`
* `wordembed_X1_...161` -&gt; `wordembed_X1_...163`
* `wordembed_X1_...162` -&gt; `wordembed_X1_...164`
* `wordembed_X1_...163` -&gt; `wordembed_X1_...165`
* `wordembed_X1_...164` -&gt; `wordembed_X1_...166`
* `wordembed_X1_...165` -&gt; `wordembed_X1_...167`
* `wordembed_X1_...166` -&gt; `wordembed_X1_...168`
* `wordembed_X1_...167` -&gt; `wordembed_X1_...169`
* `wordembed_X1_...168` -&gt; `wordembed_X1_...170`
* `wordembed_X1_...169` -&gt; `wordembed_X1_...171`
* `wordembed_X1_...170` -&gt; `wordembed_X1_...172`
* `wordembed_X1_...171` -&gt; `wordembed_X1_...173`
* `wordembed_X1_...172` -&gt; `wordembed_X1_...174`
* `wordembed_X1_...173` -&gt; `wordembed_X1_...175`
* `wordembed_X1_...174` -&gt; `wordembed_X1_...176`
* `wordembed_X1_...175` -&gt; `wordembed_X1_...177`
* `wordembed_X1_...176` -&gt; `wordembed_X1_...178`
* `wordembed_X1_...177` -&gt; `wordembed_X1_...179`
* `wordembed_X1_...178` -&gt; `wordembed_X1_...180`
* `wordembed_X1_...179` -&gt; `wordembed_X1_...181`
* `wordembed_X1_...180` -&gt; `wordembed_X1_...182`
* `wordembed_X1_...181` -&gt; `wordembed_X1_...183`
* `wordembed_X1_...182` -&gt; `wordembed_X1_...184`
* `wordembed_X1_...183` -&gt; `wordembed_X1_...185`
* `wordembed_X1_...184` -&gt; `wordembed_X1_...186`
* `wordembed_X1_...185` -&gt; `wordembed_X1_...187`
* `wordembed_X1_...186` -&gt; `wordembed_X1_...188`
* `wordembed_X1_...187` -&gt; `wordembed_X1_...189`
* `wordembed_X1_...188` -&gt; `wordembed_X1_...190`
* `wordembed_X1_...189` -&gt; `wordembed_X1_...191`
* `wordembed_X1_...190` -&gt; `wordembed_X1_...192`
* `wordembed_X1_...191` -&gt; `wordembed_X1_...193`
* `wordembed_X1_...192` -&gt; `wordembed_X1_...194`
* `wordembed_X1_...193` -&gt; `wordembed_X1_...195`
* `wordembed_X1_...194` -&gt; `wordembed_X1_...196`
* `wordembed_X1_...195` -&gt; `wordembed_X1_...197`
* `wordembed_X1_...196` -&gt; `wordembed_X1_...198`
* `wordembed_X1_...197` -&gt; `wordembed_X1_...199`
* `wordembed_X1_...198` -&gt; `wordembed_X1_...200`
* `wordembed_X1_...199` -&gt; `wordembed_X1_...201`
* `wordembed_X1_...200` -&gt; `wordembed_X1_...202`
* `wordembed_X1_...201` -&gt; `wordembed_X1_...203`
* `wordembed_X1_...202` -&gt; `wordembed_X1_...204`
* `wordembed_X1_...203` -&gt; `wordembed_X1_...205`
* `wordembed_X1_...204` -&gt; `wordembed_X1_...206`
* `wordembed_X1_...205` -&gt; `wordembed_X1_...207`
* `wordembed_X1_...206` -&gt; `wordembed_X1_...208`
* `wordembed_X1_...207` -&gt; `wordembed_X1_...209`
* `wordembed_X1_...208` -&gt; `wordembed_X1_...210`
* `wordembed_X1_...209` -&gt; `wordembed_X1_...211`
* `wordembed_X1_...210` -&gt; `wordembed_X1_...212`
* `wordembed_X1_...211` -&gt; `wordembed_X1_...213`
* `wordembed_X1_...212` -&gt; `wordembed_X1_...214`
* `wordembed_X1_...213` -&gt; `wordembed_X1_...215`
* `wordembed_X1_...214` -&gt; `wordembed_X1_...216`
* `wordembed_X1_...215` -&gt; `wordembed_X1_...217`
* `wordembed_X1_...216` -&gt; `wordembed_X1_...218`
* `wordembed_X1_...217` -&gt; `wordembed_X1_...219`
* `wordembed_X1_...218` -&gt; `wordembed_X1_...220`
* `wordembed_X1_...219` -&gt; `wordembed_X1_...221`
* `wordembed_X1_...220` -&gt; `wordembed_X1_...222`
* `wordembed_X1_...221` -&gt; `wordembed_X1_...223`
* `wordembed_X1_...222` -&gt; `wordembed_X1_...224`
* `wordembed_X1_...223` -&gt; `wordembed_X1_...225`
* `wordembed_X1_...224` -&gt; `wordembed_X1_...226`
* `wordembed_X1_...225` -&gt; `wordembed_X1_...227`
* `wordembed_X1_...226` -&gt; `wordembed_X1_...228`
* `wordembed_X1_...227` -&gt; `wordembed_X1_...229`
* `wordembed_X1_...228` -&gt; `wordembed_X1_...230`
* `wordembed_X1_...229` -&gt; `wordembed_X1_...231`
* `wordembed_X1_...230` -&gt; `wordembed_X1_...232`
* `wordembed_X1_...231` -&gt; `wordembed_X1_...233`
* `wordembed_X1_...232` -&gt; `wordembed_X1_...234`
* `wordembed_X1_...233` -&gt; `wordembed_X1_...235`
* `wordembed_X1_...234` -&gt; `wordembed_X1_...236`
* `wordembed_X1_...235` -&gt; `wordembed_X1_...237`
* `wordembed_X1_...236` -&gt; `wordembed_X1_...238`
* `wordembed_X1_...237` -&gt; `wordembed_X1_...239`
* `wordembed_X1_...238` -&gt; `wordembed_X1_...240`
* `wordembed_X1_...239` -&gt; `wordembed_X1_...241`
* `wordembed_X1_...240` -&gt; `wordembed_X1_...242`
* `wordembed_X1_...241` -&gt; `wordembed_X1_...243`
* `wordembed_X1_...242` -&gt; `wordembed_X1_...244`
* `wordembed_X1_...243` -&gt; `wordembed_X1_...245`
* `wordembed_X1_...244` -&gt; `wordembed_X1_...246`
* `wordembed_X1_...245` -&gt; `wordembed_X1_...247`
* `wordembed_X1_...246` -&gt; `wordembed_X1_...248`
* `wordembed_X1_...247` -&gt; `wordembed_X1_...249`
* `wordembed_X1_...248` -&gt; `wordembed_X1_...250`
* `wordembed_X1_...249` -&gt; `wordembed_X1_...251`
* `wordembed_X1_...250` -&gt; `wordembed_X1_...252`
* `wordembed_X1_...251` -&gt; `wordembed_X1_...253`
* `wordembed_X1_...252` -&gt; `wordembed_X1_...254`
* `wordembed_X1_...253` -&gt; `wordembed_X1_...255`
* `wordembed_X1_...254` -&gt; `wordembed_X1_...256`
* `wordembed_X1_...255` -&gt; `wordembed_X1_...257`
* `wordembed_X1_...256` -&gt; `wordembed_X1_...258`
* `wordembed_X1_...257` -&gt; `wordembed_X1_...259`
* `wordembed_X1_...258` -&gt; `wordembed_X1_...260`
* `wordembed_X1_...259` -&gt; `wordembed_X1_...261`
* `wordembed_X1_...260` -&gt; `wordembed_X1_...262`
* `wordembed_X1_...261` -&gt; `wordembed_X1_...263`
* `wordembed_X1_...262` -&gt; `wordembed_X1_...264`
* `wordembed_X1_...263` -&gt; `wordembed_X1_...265`
* `wordembed_X1_...264` -&gt; `wordembed_X1_...266`
* `wordembed_X1_...265` -&gt; `wordembed_X1_...267`
* `wordembed_X1_...266` -&gt; `wordembed_X1_...268`
* `wordembed_X1_...267` -&gt; `wordembed_X1_...269`
* `wordembed_X1_...268` -&gt; `wordembed_X1_...270`
* `wordembed_X1_...269` -&gt; `wordembed_X1_...271`
* `wordembed_X1_...270` -&gt; `wordembed_X1_...272`
* `wordembed_X1_...271` -&gt; `wordembed_X1_...273`
* `wordembed_X1_...272` -&gt; `wordembed_X1_...274`
* `wordembed_X1_...273` -&gt; `wordembed_X1_...275`
* `wordembed_X1_...274` -&gt; `wordembed_X1_...276`
* `wordembed_X1_...275` -&gt; `wordembed_X1_...277`
* `wordembed_X1_...276` -&gt; `wordembed_X1_...278`
* `wordembed_X1_...277` -&gt; `wordembed_X1_...279`
* `wordembed_X1_...278` -&gt; `wordembed_X1_...280`
* `wordembed_X1_...279` -&gt; `wordembed_X1_...281`
* `wordembed_X1_...280` -&gt; `wordembed_X1_...282`
* `wordembed_X1_...281` -&gt; `wordembed_X1_...283`
* `wordembed_X1_...282` -&gt; `wordembed_X1_...284`
* `wordembed_X1_...283` -&gt; `wordembed_X1_...285`
* `wordembed_X1_...284` -&gt; `wordembed_X1_...286`
* `wordembed_X1_...285` -&gt; `wordembed_X1_...287`
* `wordembed_X1_...286` -&gt; `wordembed_X1_...288`
* `wordembed_X1_...287` -&gt; `wordembed_X1_...289`
* `wordembed_X1_...288` -&gt; `wordembed_X1_...290`
* `wordembed_X1_...289` -&gt; `wordembed_X1_...291`
* `wordembed_X1_...290` -&gt; `wordembed_X1_...292`
* `wordembed_X1_...291` -&gt; `wordembed_X1_...293`
* `wordembed_X1_...292` -&gt; `wordembed_X1_...294`
* `wordembed_X1_...293` -&gt; `wordembed_X1_...295`
* `wordembed_X1_...294` -&gt; `wordembed_X1_...296`
* `wordembed_X1_...295` -&gt; `wordembed_X1_...297`
* `wordembed_X1_...296` -&gt; `wordembed_X1_...298`
* `wordembed_X1_...297` -&gt; `wordembed_X1_...299`
* `wordembed_X1_...298` -&gt; `wordembed_X1_...300`
* `wordembed_X1_...299` -&gt; `wordembed_X1_...301`
* `wordembed_X1_...300` -&gt; `wordembed_X1_...302`
* `wordembed_X1_...301` -&gt; `wordembed_X1_...303`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>fit_workflow5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Tuning results
# 10-fold cross-validation 
# A tibble: 10 x 5
   splits             id     .metrics          .notes           .predictions
   &lt;list&gt;             &lt;chr&gt;  &lt;list&gt;            &lt;list&gt;           &lt;list&gt;      
 1 &lt;split [3380/376]&gt; Fold01 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 2 &lt;split [3380/376]&gt; Fold02 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 3 &lt;split [3380/376]&gt; Fold03 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 4 &lt;split [3380/376]&gt; Fold04 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 5 &lt;split [3380/376]&gt; Fold05 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 6 &lt;split [3380/376]&gt; Fold06 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 7 &lt;split [3381/375]&gt; Fold07 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 8 &lt;split [3381/375]&gt; Fold08 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 9 &lt;split [3381/375]&gt; Fold09 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
10 &lt;split [3381/375]&gt; Fold10 &lt;tibble [10 x 5]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>workflow5_perf <span class="ot">&lt;-</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_metrics</span>(fit_workflow5)</span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a>workflow5_perf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 x 7
        penalty .metric  .estimator  mean     n std_err .config             
          &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
 1 0.0000000001 accuracy binary     0.682    10 0.00602 Preprocessor1_Model1
 2 0.0000000001 roc_auc  binary     0.614    10 0.00826 Preprocessor1_Model1
 3 0.0000000316 accuracy binary     0.682    10 0.00602 Preprocessor1_Model2
 4 0.0000000316 roc_auc  binary     0.614    10 0.00826 Preprocessor1_Model2
 5 0.00001      accuracy binary     0.682    10 0.00602 Preprocessor1_Model3
 6 0.00001      roc_auc  binary     0.614    10 0.00826 Preprocessor1_Model3
 7 0.00316      accuracy binary     0.683    10 0.00581 Preprocessor1_Model4
 8 0.00316      roc_auc  binary     0.621    10 0.0114  Preprocessor1_Model4
 9 1            accuracy binary     0.669    10 0.00508 Preprocessor1_Model5
10 1            roc_auc  binary     0.5      10 0       Preprocessor1_Model5</code></pre>
</div>
</div>
</section>
</section>
<section id="performance-des-5.-workflows" class="level1">
<h1>Performance des 5. Workflows:</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>workflow5_pred <span class="ot">&lt;-</span> </span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_predictions</span>(fit_workflow5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>workflow5_pred <span class="sc">%&gt;%</span> </span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">roc_curve</span>(<span class="at">truth =</span> X2, .pred_OFFENSE) <span class="sc">%&gt;%</span> </span>
<span id="cb166-4"><a href="#cb166-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-78-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Die Folds sind hier nicht ganz so wackelig, liegen aber zum Teil etas weiter auseinander.</p>
<p>#6. Workflow</p>
<section id="wordembedding-mit-bayesmodell" class="level3">
<h3 class="anchored" data-anchor-id="wordembedding-mit-bayesmodell">Wordembedding mit Bayesmodell</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>workflow6 <span class="ot">&lt;-</span> </span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">workflow</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(rezept3) <span class="sc">%&gt;%</span> </span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(naiv_bay)</span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-6"><a href="#cb167-6" aria-hidden="true" tabindex="-1"></a>workflow6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>== Workflow ====================================================================
Preprocessor: Recipe
Model: naive_Bayes()

-- Preprocessor ----------------------------------------------------------------
6 Recipe Steps

* step_tokenize()
* step_stopwords()
* step_stem()
* step_tokenfilter()
* step_word_embeddings()
* step_normalize()

-- Model -----------------------------------------------------------------------
Naive Bayes Model Specification (classification)

Computational engine: naivebayes </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>fit_workflow6 <span class="ot">&lt;-</span> </span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit_resamples</span>(</span>
<span id="cb169-3"><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a>    workflow6,</span>
<span id="cb169-4"><a href="#cb169-4" aria-hidden="true" tabindex="-1"></a>    v_fold,</span>
<span id="cb169-5"><a href="#cb169-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> <span class="fu">control_resamples</span>(<span class="at">save_pred =</span> <span class="cn">TRUE</span>)</span>
<span id="cb169-6"><a href="#cb169-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
New names:
* `wordembed_X1_...2` -&gt; `wordembed_X1_...4`
* `wordembed_X1_...3` -&gt; `wordembed_X1_...5`
* `wordembed_X1_...4` -&gt; `wordembed_X1_...6`
* `wordembed_X1_...5` -&gt; `wordembed_X1_...7`
* `wordembed_X1_...6` -&gt; `wordembed_X1_...8`
* `wordembed_X1_...7` -&gt; `wordembed_X1_...9`
* `wordembed_X1_...8` -&gt; `wordembed_X1_...10`
* `wordembed_X1_...9` -&gt; `wordembed_X1_...11`
* `wordembed_X1_...10` -&gt; `wordembed_X1_...12`
* `wordembed_X1_...11` -&gt; `wordembed_X1_...13`
* `wordembed_X1_...12` -&gt; `wordembed_X1_...14`
* `wordembed_X1_...13` -&gt; `wordembed_X1_...15`
* `wordembed_X1_...14` -&gt; `wordembed_X1_...16`
* `wordembed_X1_...15` -&gt; `wordembed_X1_...17`
* `wordembed_X1_...16` -&gt; `wordembed_X1_...18`
* `wordembed_X1_...17` -&gt; `wordembed_X1_...19`
* `wordembed_X1_...18` -&gt; `wordembed_X1_...20`
* `wordembed_X1_...19` -&gt; `wordembed_X1_...21`
* `wordembed_X1_...20` -&gt; `wordembed_X1_...22`
* `wordembed_X1_...21` -&gt; `wordembed_X1_...23`
* `wordembed_X1_...22` -&gt; `wordembed_X1_...24`
* `wordembed_X1_...23` -&gt; `wordembed_X1_...25`
* `wordembed_X1_...24` -&gt; `wordembed_X1_...26`
* `wordembed_X1_...25` -&gt; `wordembed_X1_...27`
* `wordembed_X1_...26` -&gt; `wordembed_X1_...28`
* `wordembed_X1_...27` -&gt; `wordembed_X1_...29`
* `wordembed_X1_...28` -&gt; `wordembed_X1_...30`
* `wordembed_X1_...29` -&gt; `wordembed_X1_...31`
* `wordembed_X1_...30` -&gt; `wordembed_X1_...32`
* `wordembed_X1_...31` -&gt; `wordembed_X1_...33`
* `wordembed_X1_...32` -&gt; `wordembed_X1_...34`
* `wordembed_X1_...33` -&gt; `wordembed_X1_...35`
* `wordembed_X1_...34` -&gt; `wordembed_X1_...36`
* `wordembed_X1_...35` -&gt; `wordembed_X1_...37`
* `wordembed_X1_...36` -&gt; `wordembed_X1_...38`
* `wordembed_X1_...37` -&gt; `wordembed_X1_...39`
* `wordembed_X1_...38` -&gt; `wordembed_X1_...40`
* `wordembed_X1_...39` -&gt; `wordembed_X1_...41`
* `wordembed_X1_...40` -&gt; `wordembed_X1_...42`
* `wordembed_X1_...41` -&gt; `wordembed_X1_...43`
* `wordembed_X1_...42` -&gt; `wordembed_X1_...44`
* `wordembed_X1_...43` -&gt; `wordembed_X1_...45`
* `wordembed_X1_...44` -&gt; `wordembed_X1_...46`
* `wordembed_X1_...45` -&gt; `wordembed_X1_...47`
* `wordembed_X1_...46` -&gt; `wordembed_X1_...48`
* `wordembed_X1_...47` -&gt; `wordembed_X1_...49`
* `wordembed_X1_...48` -&gt; `wordembed_X1_...50`
* `wordembed_X1_...49` -&gt; `wordembed_X1_...51`
* `wordembed_X1_...50` -&gt; `wordembed_X1_...52`
* `wordembed_X1_...51` -&gt; `wordembed_X1_...53`
* `wordembed_X1_...52` -&gt; `wordembed_X1_...54`
* `wordembed_X1_...53` -&gt; `wordembed_X1_...55`
* `wordembed_X1_...54` -&gt; `wordembed_X1_...56`
* `wordembed_X1_...55` -&gt; `wordembed_X1_...57`
* `wordembed_X1_...56` -&gt; `wordembed_X1_...58`
* `wordembed_X1_...57` -&gt; `wordembed_X1_...59`
* `wordembed_X1_...58` -&gt; `wordembed_X1_...60`
* `wordembed_X1_...59` -&gt; `wordembed_X1_...61`
* `wordembed_X1_...60` -&gt; `wordembed_X1_...62`
* `wordembed_X1_...61` -&gt; `wordembed_X1_...63`
* `wordembed_X1_...62` -&gt; `wordembed_X1_...64`
* `wordembed_X1_...63` -&gt; `wordembed_X1_...65`
* `wordembed_X1_...64` -&gt; `wordembed_X1_...66`
* `wordembed_X1_...65` -&gt; `wordembed_X1_...67`
* `wordembed_X1_...66` -&gt; `wordembed_X1_...68`
* `wordembed_X1_...67` -&gt; `wordembed_X1_...69`
* `wordembed_X1_...68` -&gt; `wordembed_X1_...70`
* `wordembed_X1_...69` -&gt; `wordembed_X1_...71`
* `wordembed_X1_...70` -&gt; `wordembed_X1_...72`
* `wordembed_X1_...71` -&gt; `wordembed_X1_...73`
* `wordembed_X1_...72` -&gt; `wordembed_X1_...74`
* `wordembed_X1_...73` -&gt; `wordembed_X1_...75`
* `wordembed_X1_...74` -&gt; `wordembed_X1_...76`
* `wordembed_X1_...75` -&gt; `wordembed_X1_...77`
* `wordembed_X1_...76` -&gt; `wordembed_X1_...78`
* `wordembed_X1_...77` -&gt; `wordembed_X1_...79`
* `wordembed_X1_...78` -&gt; `wordembed_X1_...80`
* `wordembed_X1_...79` -&gt; `wordembed_X1_...81`
* `wordembed_X1_...80` -&gt; `wordembed_X1_...82`
* `wordembed_X1_...81` -&gt; `wordembed_X1_...83`
* `wordembed_X1_...82` -&gt; `wordembed_X1_...84`
* `wordembed_X1_...83` -&gt; `wordembed_X1_...85`
* `wordembed_X1_...84` -&gt; `wordembed_X1_...86`
* `wordembed_X1_...85` -&gt; `wordembed_X1_...87`
* `wordembed_X1_...86` -&gt; `wordembed_X1_...88`
* `wordembed_X1_...87` -&gt; `wordembed_X1_...89`
* `wordembed_X1_...88` -&gt; `wordembed_X1_...90`
* `wordembed_X1_...89` -&gt; `wordembed_X1_...91`
* `wordembed_X1_...90` -&gt; `wordembed_X1_...92`
* `wordembed_X1_...91` -&gt; `wordembed_X1_...93`
* `wordembed_X1_...92` -&gt; `wordembed_X1_...94`
* `wordembed_X1_...93` -&gt; `wordembed_X1_...95`
* `wordembed_X1_...94` -&gt; `wordembed_X1_...96`
* `wordembed_X1_...95` -&gt; `wordembed_X1_...97`
* `wordembed_X1_...96` -&gt; `wordembed_X1_...98`
* `wordembed_X1_...97` -&gt; `wordembed_X1_...99`
* `wordembed_X1_...98` -&gt; `wordembed_X1_...100`
* `wordembed_X1_...99` -&gt; `wordembed_X1_...101`
* `wordembed_X1_...100` -&gt; `wordembed_X1_...102`
* `wordembed_X1_...101` -&gt; `wordembed_X1_...103`
* `wordembed_X1_...102` -&gt; `wordembed_X1_...104`
* `wordembed_X1_...103` -&gt; `wordembed_X1_...105`
* `wordembed_X1_...104` -&gt; `wordembed_X1_...106`
* `wordembed_X1_...105` -&gt; `wordembed_X1_...107`
* `wordembed_X1_...106` -&gt; `wordembed_X1_...108`
* `wordembed_X1_...107` -&gt; `wordembed_X1_...109`
* `wordembed_X1_...108` -&gt; `wordembed_X1_...110`
* `wordembed_X1_...109` -&gt; `wordembed_X1_...111`
* `wordembed_X1_...110` -&gt; `wordembed_X1_...112`
* `wordembed_X1_...111` -&gt; `wordembed_X1_...113`
* `wordembed_X1_...112` -&gt; `wordembed_X1_...114`
* `wordembed_X1_...113` -&gt; `wordembed_X1_...115`
* `wordembed_X1_...114` -&gt; `wordembed_X1_...116`
* `wordembed_X1_...115` -&gt; `wordembed_X1_...117`
* `wordembed_X1_...116` -&gt; `wordembed_X1_...118`
* `wordembed_X1_...117` -&gt; `wordembed_X1_...119`
* `wordembed_X1_...118` -&gt; `wordembed_X1_...120`
* `wordembed_X1_...119` -&gt; `wordembed_X1_...121`
* `wordembed_X1_...120` -&gt; `wordembed_X1_...122`
* `wordembed_X1_...121` -&gt; `wordembed_X1_...123`
* `wordembed_X1_...122` -&gt; `wordembed_X1_...124`
* `wordembed_X1_...123` -&gt; `wordembed_X1_...125`
* `wordembed_X1_...124` -&gt; `wordembed_X1_...126`
* `wordembed_X1_...125` -&gt; `wordembed_X1_...127`
* `wordembed_X1_...126` -&gt; `wordembed_X1_...128`
* `wordembed_X1_...127` -&gt; `wordembed_X1_...129`
* `wordembed_X1_...128` -&gt; `wordembed_X1_...130`
* `wordembed_X1_...129` -&gt; `wordembed_X1_...131`
* `wordembed_X1_...130` -&gt; `wordembed_X1_...132`
* `wordembed_X1_...131` -&gt; `wordembed_X1_...133`
* `wordembed_X1_...132` -&gt; `wordembed_X1_...134`
* `wordembed_X1_...133` -&gt; `wordembed_X1_...135`
* `wordembed_X1_...134` -&gt; `wordembed_X1_...136`
* `wordembed_X1_...135` -&gt; `wordembed_X1_...137`
* `wordembed_X1_...136` -&gt; `wordembed_X1_...138`
* `wordembed_X1_...137` -&gt; `wordembed_X1_...139`
* `wordembed_X1_...138` -&gt; `wordembed_X1_...140`
* `wordembed_X1_...139` -&gt; `wordembed_X1_...141`
* `wordembed_X1_...140` -&gt; `wordembed_X1_...142`
* `wordembed_X1_...141` -&gt; `wordembed_X1_...143`
* `wordembed_X1_...142` -&gt; `wordembed_X1_...144`
* `wordembed_X1_...143` -&gt; `wordembed_X1_...145`
* `wordembed_X1_...144` -&gt; `wordembed_X1_...146`
* `wordembed_X1_...145` -&gt; `wordembed_X1_...147`
* `wordembed_X1_...146` -&gt; `wordembed_X1_...148`
* `wordembed_X1_...147` -&gt; `wordembed_X1_...149`
* `wordembed_X1_...148` -&gt; `wordembed_X1_...150`
* `wordembed_X1_...149` -&gt; `wordembed_X1_...151`
* `wordembed_X1_...150` -&gt; `wordembed_X1_...152`
* `wordembed_X1_...151` -&gt; `wordembed_X1_...153`
* `wordembed_X1_...152` -&gt; `wordembed_X1_...154`
* `wordembed_X1_...153` -&gt; `wordembed_X1_...155`
* `wordembed_X1_...154` -&gt; `wordembed_X1_...156`
* `wordembed_X1_...155` -&gt; `wordembed_X1_...157`
* `wordembed_X1_...156` -&gt; `wordembed_X1_...158`
* `wordembed_X1_...157` -&gt; `wordembed_X1_...159`
* `wordembed_X1_...158` -&gt; `wordembed_X1_...160`
* `wordembed_X1_...159` -&gt; `wordembed_X1_...161`
* `wordembed_X1_...160` -&gt; `wordembed_X1_...162`
* `wordembed_X1_...161` -&gt; `wordembed_X1_...163`
* `wordembed_X1_...162` -&gt; `wordembed_X1_...164`
* `wordembed_X1_...163` -&gt; `wordembed_X1_...165`
* `wordembed_X1_...164` -&gt; `wordembed_X1_...166`
* `wordembed_X1_...165` -&gt; `wordembed_X1_...167`
* `wordembed_X1_...166` -&gt; `wordembed_X1_...168`
* `wordembed_X1_...167` -&gt; `wordembed_X1_...169`
* `wordembed_X1_...168` -&gt; `wordembed_X1_...170`
* `wordembed_X1_...169` -&gt; `wordembed_X1_...171`
* `wordembed_X1_...170` -&gt; `wordembed_X1_...172`
* `wordembed_X1_...171` -&gt; `wordembed_X1_...173`
* `wordembed_X1_...172` -&gt; `wordembed_X1_...174`
* `wordembed_X1_...173` -&gt; `wordembed_X1_...175`
* `wordembed_X1_...174` -&gt; `wordembed_X1_...176`
* `wordembed_X1_...175` -&gt; `wordembed_X1_...177`
* `wordembed_X1_...176` -&gt; `wordembed_X1_...178`
* `wordembed_X1_...177` -&gt; `wordembed_X1_...179`
* `wordembed_X1_...178` -&gt; `wordembed_X1_...180`
* `wordembed_X1_...179` -&gt; `wordembed_X1_...181`
* `wordembed_X1_...180` -&gt; `wordembed_X1_...182`
* `wordembed_X1_...181` -&gt; `wordembed_X1_...183`
* `wordembed_X1_...182` -&gt; `wordembed_X1_...184`
* `wordembed_X1_...183` -&gt; `wordembed_X1_...185`
* `wordembed_X1_...184` -&gt; `wordembed_X1_...186`
* `wordembed_X1_...185` -&gt; `wordembed_X1_...187`
* `wordembed_X1_...186` -&gt; `wordembed_X1_...188`
* `wordembed_X1_...187` -&gt; `wordembed_X1_...189`
* `wordembed_X1_...188` -&gt; `wordembed_X1_...190`
* `wordembed_X1_...189` -&gt; `wordembed_X1_...191`
* `wordembed_X1_...190` -&gt; `wordembed_X1_...192`
* `wordembed_X1_...191` -&gt; `wordembed_X1_...193`
* `wordembed_X1_...192` -&gt; `wordembed_X1_...194`
* `wordembed_X1_...193` -&gt; `wordembed_X1_...195`
* `wordembed_X1_...194` -&gt; `wordembed_X1_...196`
* `wordembed_X1_...195` -&gt; `wordembed_X1_...197`
* `wordembed_X1_...196` -&gt; `wordembed_X1_...198`
* `wordembed_X1_...197` -&gt; `wordembed_X1_...199`
* `wordembed_X1_...198` -&gt; `wordembed_X1_...200`
* `wordembed_X1_...199` -&gt; `wordembed_X1_...201`
* `wordembed_X1_...200` -&gt; `wordembed_X1_...202`
* `wordembed_X1_...201` -&gt; `wordembed_X1_...203`
* `wordembed_X1_...202` -&gt; `wordembed_X1_...204`
* `wordembed_X1_...203` -&gt; `wordembed_X1_...205`
* `wordembed_X1_...204` -&gt; `wordembed_X1_...206`
* `wordembed_X1_...205` -&gt; `wordembed_X1_...207`
* `wordembed_X1_...206` -&gt; `wordembed_X1_...208`
* `wordembed_X1_...207` -&gt; `wordembed_X1_...209`
* `wordembed_X1_...208` -&gt; `wordembed_X1_...210`
* `wordembed_X1_...209` -&gt; `wordembed_X1_...211`
* `wordembed_X1_...210` -&gt; `wordembed_X1_...212`
* `wordembed_X1_...211` -&gt; `wordembed_X1_...213`
* `wordembed_X1_...212` -&gt; `wordembed_X1_...214`
* `wordembed_X1_...213` -&gt; `wordembed_X1_...215`
* `wordembed_X1_...214` -&gt; `wordembed_X1_...216`
* `wordembed_X1_...215` -&gt; `wordembed_X1_...217`
* `wordembed_X1_...216` -&gt; `wordembed_X1_...218`
* `wordembed_X1_...217` -&gt; `wordembed_X1_...219`
* `wordembed_X1_...218` -&gt; `wordembed_X1_...220`
* `wordembed_X1_...219` -&gt; `wordembed_X1_...221`
* `wordembed_X1_...220` -&gt; `wordembed_X1_...222`
* `wordembed_X1_...221` -&gt; `wordembed_X1_...223`
* `wordembed_X1_...222` -&gt; `wordembed_X1_...224`
* `wordembed_X1_...223` -&gt; `wordembed_X1_...225`
* `wordembed_X1_...224` -&gt; `wordembed_X1_...226`
* `wordembed_X1_...225` -&gt; `wordembed_X1_...227`
* `wordembed_X1_...226` -&gt; `wordembed_X1_...228`
* `wordembed_X1_...227` -&gt; `wordembed_X1_...229`
* `wordembed_X1_...228` -&gt; `wordembed_X1_...230`
* `wordembed_X1_...229` -&gt; `wordembed_X1_...231`
* `wordembed_X1_...230` -&gt; `wordembed_X1_...232`
* `wordembed_X1_...231` -&gt; `wordembed_X1_...233`
* `wordembed_X1_...232` -&gt; `wordembed_X1_...234`
* `wordembed_X1_...233` -&gt; `wordembed_X1_...235`
* `wordembed_X1_...234` -&gt; `wordembed_X1_...236`
* `wordembed_X1_...235` -&gt; `wordembed_X1_...237`
* `wordembed_X1_...236` -&gt; `wordembed_X1_...238`
* `wordembed_X1_...237` -&gt; `wordembed_X1_...239`
* `wordembed_X1_...238` -&gt; `wordembed_X1_...240`
* `wordembed_X1_...239` -&gt; `wordembed_X1_...241`
* `wordembed_X1_...240` -&gt; `wordembed_X1_...242`
* `wordembed_X1_...241` -&gt; `wordembed_X1_...243`
* `wordembed_X1_...242` -&gt; `wordembed_X1_...244`
* `wordembed_X1_...243` -&gt; `wordembed_X1_...245`
* `wordembed_X1_...244` -&gt; `wordembed_X1_...246`
* `wordembed_X1_...245` -&gt; `wordembed_X1_...247`
* `wordembed_X1_...246` -&gt; `wordembed_X1_...248`
* `wordembed_X1_...247` -&gt; `wordembed_X1_...249`
* `wordembed_X1_...248` -&gt; `wordembed_X1_...250`
* `wordembed_X1_...249` -&gt; `wordembed_X1_...251`
* `wordembed_X1_...250` -&gt; `wordembed_X1_...252`
* `wordembed_X1_...251` -&gt; `wordembed_X1_...253`
* `wordembed_X1_...252` -&gt; `wordembed_X1_...254`
* `wordembed_X1_...253` -&gt; `wordembed_X1_...255`
* `wordembed_X1_...254` -&gt; `wordembed_X1_...256`
* `wordembed_X1_...255` -&gt; `wordembed_X1_...257`
* `wordembed_X1_...256` -&gt; `wordembed_X1_...258`
* `wordembed_X1_...257` -&gt; `wordembed_X1_...259`
* `wordembed_X1_...258` -&gt; `wordembed_X1_...260`
* `wordembed_X1_...259` -&gt; `wordembed_X1_...261`
* `wordembed_X1_...260` -&gt; `wordembed_X1_...262`
* `wordembed_X1_...261` -&gt; `wordembed_X1_...263`
* `wordembed_X1_...262` -&gt; `wordembed_X1_...264`
* `wordembed_X1_...263` -&gt; `wordembed_X1_...265`
* `wordembed_X1_...264` -&gt; `wordembed_X1_...266`
* `wordembed_X1_...265` -&gt; `wordembed_X1_...267`
* `wordembed_X1_...266` -&gt; `wordembed_X1_...268`
* `wordembed_X1_...267` -&gt; `wordembed_X1_...269`
* `wordembed_X1_...268` -&gt; `wordembed_X1_...270`
* `wordembed_X1_...269` -&gt; `wordembed_X1_...271`
* `wordembed_X1_...270` -&gt; `wordembed_X1_...272`
* `wordembed_X1_...271` -&gt; `wordembed_X1_...273`
* `wordembed_X1_...272` -&gt; `wordembed_X1_...274`
* `wordembed_X1_...273` -&gt; `wordembed_X1_...275`
* `wordembed_X1_...274` -&gt; `wordembed_X1_...276`
* `wordembed_X1_...275` -&gt; `wordembed_X1_...277`
* `wordembed_X1_...276` -&gt; `wordembed_X1_...278`
* `wordembed_X1_...277` -&gt; `wordembed_X1_...279`
* `wordembed_X1_...278` -&gt; `wordembed_X1_...280`
* `wordembed_X1_...279` -&gt; `wordembed_X1_...281`
* `wordembed_X1_...280` -&gt; `wordembed_X1_...282`
* `wordembed_X1_...281` -&gt; `wordembed_X1_...283`
* `wordembed_X1_...282` -&gt; `wordembed_X1_...284`
* `wordembed_X1_...283` -&gt; `wordembed_X1_...285`
* `wordembed_X1_...284` -&gt; `wordembed_X1_...286`
* `wordembed_X1_...285` -&gt; `wordembed_X1_...287`
* `wordembed_X1_...286` -&gt; `wordembed_X1_...288`
* `wordembed_X1_...287` -&gt; `wordembed_X1_...289`
* `wordembed_X1_...288` -&gt; `wordembed_X1_...290`
* `wordembed_X1_...289` -&gt; `wordembed_X1_...291`
* `wordembed_X1_...290` -&gt; `wordembed_X1_...292`
* `wordembed_X1_...291` -&gt; `wordembed_X1_...293`
* `wordembed_X1_...292` -&gt; `wordembed_X1_...294`
* `wordembed_X1_...293` -&gt; `wordembed_X1_...295`
* `wordembed_X1_...294` -&gt; `wordembed_X1_...296`
* `wordembed_X1_...295` -&gt; `wordembed_X1_...297`
* `wordembed_X1_...296` -&gt; `wordembed_X1_...298`
* `wordembed_X1_...297` -&gt; `wordembed_X1_...299`
* `wordembed_X1_...298` -&gt; `wordembed_X1_...300`
* `wordembed_X1_...299` -&gt; `wordembed_X1_...301`
* `wordembed_X1_...300` -&gt; `wordembed_X1_...302`
* `wordembed_X1_...301` -&gt; `wordembed_X1_...303`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>fit_workflow6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Resampling results
# 10-fold cross-validation 
# A tibble: 10 x 5
   splits             id     .metrics         .notes           .predictions
   &lt;list&gt;             &lt;chr&gt;  &lt;list&gt;           &lt;list&gt;           &lt;list&gt;      
 1 &lt;split [3380/376]&gt; Fold01 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 2 &lt;split [3380/376]&gt; Fold02 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 3 &lt;split [3380/376]&gt; Fold03 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 4 &lt;split [3380/376]&gt; Fold04 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 5 &lt;split [3380/376]&gt; Fold05 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 6 &lt;split [3380/376]&gt; Fold06 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 7 &lt;split [3381/375]&gt; Fold07 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 8 &lt;split [3381/375]&gt; Fold08 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
 9 &lt;split [3381/375]&gt; Fold09 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    
10 &lt;split [3381/375]&gt; Fold10 &lt;tibble [2 x 4]&gt; &lt;tibble [0 x 3]&gt; &lt;tibble&gt;    </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>workflow6_perf <span class="ot">&lt;-</span></span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_metrics</span>(fit_workflow6)</span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a>workflow6_perf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 x 6
  .metric  .estimator  mean     n std_err .config             
  &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
1 accuracy binary     0.549    10 0.00792 Preprocessor1_Model1
2 roc_auc  binary     0.596    10 0.00870 Preprocessor1_Model1</code></pre>
</div>
</div>
</section>
</section>
<section id="perfomance-des-6.-workflows" class="level1">
<h1>Perfomance des 6. Workflows</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>workflow6_pred <span class="ot">&lt;-</span> </span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">collect_predictions</span>(fit_workflow6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a>workflow6_pred <span class="sc">%&gt;%</span> </span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">roc_curve</span>(<span class="at">truth =</span> X2, .pred_OFFENSE) <span class="sc">%&gt;%</span> </span>
<span id="cb176-4"><a href="#cb176-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-83-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Die einzelnen Folds sind hier auch deutlich gestreuter.</p>
</section>
<section id="vorhersage" class="level1">
<h1>Vorhersage</h1>
<p>Die besten “roc_aucs aus den sechs Workflows:</p>
<ol type="1">
<li>Workflow</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>fit_workflow1 <span class="sc">%&gt;%</span> <span class="fu">show_best</span>(<span class="st">"roc_auc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 x 6
  .metric .estimator  mean     n std_err .config             
  &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
1 roc_auc binary     0.570    10 0.00756 Preprocessor1_Model1</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Workflow</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a>fit_workflow2 <span class="sc">%&gt;%</span> <span class="fu">show_best</span>(<span class="st">"roc_auc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 x 7
       penalty .metric .estimator  mean     n std_err .config             
         &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
1 0.00316      roc_auc binary     0.629    10 0.00995 Preprocessor1_Model4
2 0.0000000001 roc_auc binary     0.622    10 0.00952 Preprocessor1_Model1
3 0.0000000316 roc_auc binary     0.622    10 0.00952 Preprocessor1_Model2
4 0.00001      roc_auc binary     0.622    10 0.00952 Preprocessor1_Model3
5 1            roc_auc binary     0.5      10 0       Preprocessor1_Model5</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Workflow</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>fit_workflow3 <span class="sc">%&gt;%</span> <span class="fu">show_best</span>(<span class="st">"roc_auc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 x 7
       penalty .metric .estimator  mean     n std_err .config             
         &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
1 0.00316      roc_auc binary     0.611    10  0.0115 Preprocessor1_Model4
2 0.0000000001 roc_auc binary     0.607    10  0.0107 Preprocessor1_Model1
3 0.0000000316 roc_auc binary     0.607    10  0.0107 Preprocessor1_Model2
4 0.00001      roc_auc binary     0.607    10  0.0107 Preprocessor1_Model3
5 1            roc_auc binary     0.5      10  0      Preprocessor1_Model5</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Workflow</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>fit_workflow4 <span class="sc">%&gt;%</span> <span class="fu">show_best</span>(<span class="st">"roc_auc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 x 6
  .metric .estimator  mean     n std_err .config             
  &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
1 roc_auc binary     0.637    10  0.0120 Preprocessor1_Model1</code></pre>
</div>
</div>
<ol start="5" type="1">
<li>Workflow</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>fit_workflow5 <span class="sc">%&gt;%</span> <span class="fu">show_best</span>(<span class="st">"roc_auc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 x 7
       penalty .metric .estimator  mean     n std_err .config             
         &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
1 0.00316      roc_auc binary     0.621    10 0.0114  Preprocessor1_Model4
2 0.0000000001 roc_auc binary     0.614    10 0.00826 Preprocessor1_Model1
3 0.0000000316 roc_auc binary     0.614    10 0.00826 Preprocessor1_Model2
4 0.00001      roc_auc binary     0.614    10 0.00826 Preprocessor1_Model3
5 1            roc_auc binary     0.5      10 0       Preprocessor1_Model5</code></pre>
</div>
</div>
<ol start="6" type="1">
<li>Workflow</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>fit_workflow6 <span class="sc">%&gt;%</span> <span class="fu">show_best</span>(<span class="st">"roc_auc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 x 6
  .metric .estimator  mean     n std_err .config             
  &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
1 roc_auc binary     0.596    10 0.00870 Preprocessor1_Model1</code></pre>
</div>
</div>
<p>In diesem Fall hat der 4. Workflow das beste “roc_auc” und auch die “schönste” Kurve (siehe #Performance des 4. Workflows)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>workflow4_roc <span class="ot">&lt;-</span> </span>
<span id="cb189-2"><a href="#cb189-2" aria-hidden="true" tabindex="-1"></a>  fit_workflow4 <span class="sc">%&gt;%</span> </span>
<span id="cb189-3"><a href="#cb189-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select_best</span>(<span class="st">"roc_auc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a>final_workflow4 <span class="ot">&lt;-</span> </span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">finalize_workflow</span>(workflow4, workflow4_roc)</span>
<span id="cb190-3"><a href="#cb190-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-4"><a href="#cb190-4" aria-hidden="true" tabindex="-1"></a>final_workflow4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>== Workflow ====================================================================
Preprocessor: Recipe
Model: naive_Bayes()

-- Preprocessor ----------------------------------------------------------------
6 Recipe Steps

* step_tokenize()
* step_stopwords()
* step_stem()
* step_tokenfilter()
* step_tf()
* step_normalize()

-- Model -----------------------------------------------------------------------
Naive Bayes Model Specification (classification)

Computational engine: naivebayes </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a>workflow4_fit_train <span class="ot">&lt;-</span></span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(final_workflow4, data_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="finales-ergebnis" class="level1">
<h1>Finales Ergebnis</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a>workflow4_fit_test <span class="ot">&lt;-</span></span>
<span id="cb193-2"><a href="#cb193-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">last_fit</span>(final_workflow4, data_split)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">collect_metrics</span>(workflow4_fit_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 x 4
  .metric  .estimator .estimate .config             
  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;               
1 accuracy binary         0.644 Preprocessor1_Model1
2 roc_auc  binary         0.648 Preprocessor1_Model1</code></pre>
</div>
</div>



</section>

<div class="quarto-listing quarto-listing-container-default" id="listing-listing">
<div class="list quarto-listing-default">

</div>
<div class="listing-no-matching d-none">
No matching items
</div>
</div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>